{"version":3,"sources":["components/Mobile/Elements/BackWithSearch.js","services/user/actions.js","../node_modules/react-reveal/LightSpeed.js","components/helpers/formatPrice.js","services/cart/actions.js","services/total/actions.js","services/items/actions.js","services/confirmCart/actions.js","services/checkout/actions.js","components/helpers/calculateDistance.js","components/Mobile/Cart/BillDetails/index.js","components/Mobile/Cart/CartCheckoutBlock/index.js","components/Mobile/Cart/CartItems/index.js","components/Mobile/Cart/Coupon/index.js","services/coupon/actions.js","components/Mobile/Cart/OrderComment/index.js","components/Mobile/Cart/RestaurantInfoCart/index.js","components/Mobile/Cart/index.js"],"names":["BackWithSearch","_this","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","className","style","zIndex","concat","props","boxshadow","disable_back_button","back_to_home","type","position","onClick","context","router","history","push","react_ink__WEBPACK_IMPORTED_MODULE_6___default","duration","goto_orders_page","goto_accounts_page","goBack","logo","src","alt","localStorage","getItem","width","has_title","title","has_delivery_icon","react_reveal_LightSpeed__WEBPACK_IMPORTED_MODULE_7___default","left","has_restaurant_info","ref","node","heading","restaurant","name","delivery_time","disable_search","Component","contextTypes","__webpack_require__","d","__webpack_exports__","loginUser","registerUser","logoutUser","updateUserInfo","checkUserRunningOrder","sendOtp","verifyOtp","getWalletTransactions","sendPasswordResetMail","verifyPasswordResetOtp","changeUserPassword","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","_configs__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","n","email","password","accessToken","phone","provider","address","dispatch","Axios","post","LOGIN_USER_URL","then","response","user","data","LOGIN_USER","payload","catch","error","console","log","REGISTER_USER_URL","REGISTER_USER","removeItem","LOGOUT_USER","RUNNING_ORDER","GET_WALLET_TRANSACTIONS","user_id","token","unique_order_id","UPDATE_USER_INFO_URL","UPDATE_USER_INFO","CHECK_USER_RUNNING_ORDER_URL","running_order","SEND_OTP_URL","SEND_OTP","otp","VERIFY_OTP_URL","VERIFY_OTP","GET_WALLET_TRANSACTIONS_URL","wallet","SEND_PASSWORD_RESET_EMAIL_URL","SEND_PASSWORD_RESET_EMAIL","code","VERIFY_PASSWORD_RESET_OTP_URL","VERIFY_PASSWORD_RESET_OTP","CHANGE_USER_PASSWORD_URL","CHANGE_USER_PASSWORD","make","o","e","r","t","right","p","mirror","opposite","lookup","hasOwnProperty","i","l","u","_globals","animation","LightSpeed","arguments","length","defaults","children","out","forever","timeout","delay","count","s","indexOf","Object","prototype","call","_objectWithoutProperties","animationFillMode","_wrap2","default","defineProperty","exports","value","_wrap","__esModule","_propTypes","propTypes","bool","number","module","formatPrice","price","formatedPrice","parseFloat","toFixed","loadCart","addProduct","removeProduct","products","LOAD_CART","product","ADD_PRODUCT","REMOVE_PRODUCT","updateCart","_components_helpers_formatPrice__WEBPACK_IMPORTED_MODULE_1__","cartProducts","cartTotal","productQuantity","reduce","sum","totalPrice","addonTotal","selectedaddons","map","addonArray","quantity","UPDATE_CART","getRestaurantInfo","slug","GET_RESTAURANT_INFO_URL","restaurant_info","GET_RESTAURANT_INFO","getRestaurantInfoById","id","GET_RESTAURANT_INFO_BY_ID_URL","GET_RESTAURANT_INFO_BY_ID","getRestaurantItems","GET_RESTAURANT_ITEMS_URL","restaurant_items","GET_RESTAURANT_ITEMS","getSingleItem","GET_SINGLE_ITEM_URL","item","SINGLE_ITEM","resetItems","RESET_ITEMS","resetInfo","RESET_INFO","searchItem","itemList","itemName","searchFoundText","noResultText","getState","searchResultText","noSearchFoundText","arr","foodItems","keys","forEach","itemsList","filter","toLowerCase","SEARCH_ITEM","items","H_Nacho_proyectos_precission_repartiendo_nacho_app_node_modules_babel_runtime_helpers_esm_defineProperty__WEBPACK_IMPORTED_MODULE_0__","clearSearch","CLEAR_SEARCH","checkConfirmCart","checkCartItemsAvailability","CONFIRM_CART","CHECK_CART_ITEMS_AVAILABILITY_URL","placeOrder","_coupon_actionTypes__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","_total_actions__WEBPACK_IMPORTED_MODULE_4__","order","coupon","location","order_comment","total","method","payment_token","delivery_type","partial_wallet","PLACE_ORDER_URL","auth_token","checkout","success","PLACE_ORDER","cart","splice","APPLY_COUPON","calculateDistance","lon1","lat1","lon2","lat2","toRad","x","Math","PI","dLat","dLon","sin","cos","atan2","sqrt","BillDetails","state","delivery_charges","distance","calculateDynamicDeliveryCharge","distanceFromUserToRestaurant","base_delivery_distance","extraDistance","extraCharge","extra_delivery_distance","extra_delivery_charge","dynamicDeliveryCharge","base_delivery_charge","ceil","setState","getTotalAfterCalculation","_this$props","calc","discount_type","discount","restaurant_charges","nextProps","_this2","delivery_charge_type","_this$props2","react_default","connect","CartCheckoutBlock","process_cart_loading","processCart","handleProcessCartLoading","handleItemsAvailability","_ref","includes","is_active","height","default_address","delayLink","to","backgroundColor","ink_default","Link","pathname","restaurant_id","color","house","is_operational","marginTop","addresses","CartItems","_getItemTotal","_generateKey","pre","newkey","Date","getTime","random","toString","substring","addProductQuantity","removeProductQuantity","is_veg","index","key","addon_id","fontSize","addon_name","minWidth","Coupon","inputCoupon","couponFailed","handleInput","event","target","handleSubmit","preventDefault","applyCoupon","newProps","setItem","onSubmit","placeholder","onChange","spellCheck","APPLY_COUPON_URL","OrderComment","comment","RestaurantInfoCart","react_content_loader_es","speed","primaryColor","secondaryColor","y","rx","ry","paddingTop","image","description","is_pureveg","rating","price_range","Cart","loading","alreadyRunningOrders","is_operational_loading","min_order_satisfied","is_all_items_available","productAlreadyInCart","cp","JSON","stringify","findIndex","_this$props3","checkForItemsAvailability","__doesRestaurantOperatesAtThisLocation","longitude","latitude","delivery_radius","parse","lng","lat","__isRestaurantActive","__checkMinOrderSatisfied","min_order_price","_this$props4","document","getElementsByTagName","classList","add","updatedUser","userSetAddress","tag","warn","remove","window","innerWidth","Redirect","_this$props5","meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","href","twittertitle","twitterdescription","Cart_RestaurantInfoCart","Cart_CartItems","Cart_OrderComment","Cart_Coupon","Cart_BillDetails","Cart_CartCheckoutBlock","cart_page","route","bottom","Footer","active_cart"],"mappings":"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","file":"static/js/12.e279ec32.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport LightSpeed from \"react-reveal/LightSpeed\";\r\n\r\nclass BackWithSearch extends Component {\r\n    static contextTypes = {\r\n        router: () => null\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"col-12 p-0 fixed\" style={{ zIndex: \"9\" }}>\r\n                    <div className=\"block m-0\">\r\n                        <div className=\"block-content p-0\">\r\n                            <div className={`input-group ${this.props.boxshadow && \"search-box\"}`}>\r\n                                {!this.props.disable_back_button && (\r\n                                    <div className=\"input-group-prepend\">\r\n                                        {this.props.back_to_home && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n\r\n                                        {this.props.goto_orders_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-orders\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-account\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {!this.props.back_to_home && !this.props.goto_orders_page && !this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={this.context.router.history.goBack}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"form-control search-input\">\r\n                                    {this.props.logo && <img src=\"/assets/img/logos/logo.png\" alt={localStorage.getItem(\"storeName\")} width=\"120\" />}\r\n                                    {this.props.has_title ? <span className=\"nav-page-title\">{this.props.title}</span> : null}\r\n                                    {this.props.has_delivery_icon && (\r\n                                        <LightSpeed left>\r\n                                            <img src=\"/assets/img/various/delivery-bike.png\" alt={this.props.title} className=\"nav-page-title\" />\r\n                                        </LightSpeed>\r\n                                    )}\r\n                                </p>\r\n                                {this.props.has_restaurant_info ? (\r\n                                    <div\r\n                                        className=\"fixed-restaurant-info hidden\"\r\n                                        ref={node => {\r\n                                            this.heading = node;\r\n                                        }}\r\n                                    >\r\n                                        <span className=\"font-w700 fixedRestaurantName\">{this.props.restaurant.name}</span>\r\n                                        <br />\r\n                                        <span className=\"font-w400 fixedRestaurantTime\">\r\n                                            <i className=\"si si-clock\" /> {this.props.restaurant.delivery_time}{\" \"}\r\n                                            {localStorage.getItem(\"homePageMinsText\")}\r\n                                        </span>\r\n                                    </div>\r\n                                ) : null}\r\n                                <div className=\"input-group-append\">\r\n                                    {!this.props.disable_search && (\r\n                                        <button type=\"submit\" className=\"btn search-navs-btns\" style={{ position: \"relative\" }}>\r\n                                            <i className=\"si si-magnifier\" />\r\n                                            <Ink duration=\"500\" />\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BackWithSearch;\r\n","import {\r\n\tLOGIN_USER,\r\n\tREGISTER_USER,\r\n\tLOGOUT_USER,\r\n\tUPDATE_USER_INFO,\r\n\tSEND_OTP,\r\n\tVERIFY_OTP,\r\n\tRUNNING_ORDER,\r\n\tGET_WALLET_TRANSACTIONS,\r\n\tSEND_PASSWORD_RESET_EMAIL,\r\n\tVERIFY_PASSWORD_RESET_OTP,\r\n\tCHANGE_USER_PASSWORD,\r\n} from \"./actionTypes\";\r\nimport {\r\n\tLOGIN_USER_URL,\r\n\tREGISTER_USER_URL,\r\n\tUPDATE_USER_INFO_URL,\r\n\tSEND_OTP_URL,\r\n\tVERIFY_OTP_URL,\r\n\tCHECK_USER_RUNNING_ORDER_URL,\r\n\tGET_WALLET_TRANSACTIONS_URL,\r\n\tSEND_PASSWORD_RESET_EMAIL_URL,\r\n\tVERIFY_PASSWORD_RESET_OTP_URL,\r\n\tCHANGE_USER_PASSWORD_URL,\r\n} from \"../../configs\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nexport const loginUser = (name, email, password, accessToken, phone, provider, address) => (dispatch) => {\r\n\tAxios.post(LOGIN_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tpassword: password,\r\n\t\taccessToken: accessToken,\r\n\t\tphone: phone,\r\n\t\tprovider: provider,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: LOGIN_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const registerUser = (name, email, phone, password, address) => (dispatch) => {\r\n\tAxios.post(REGISTER_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\tpassword: password,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: REGISTER_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const logoutUser = (user) => (dispatch) => {\r\n\tuser = [];\r\n\tconst walletEmpty = [];\r\n\r\n\t//remove geoLocation and userSetAddress\r\n\tlocalStorage.removeItem(\"userSetAddress\");\r\n\tlocalStorage.removeItem(\"geoLocation\");\r\n\tlocalStorage.removeItem(\"lastSavedNotificationToken\");\r\n\r\n\tdispatch({\r\n\t\ttype: LOGOUT_USER,\r\n\t\tpayload: user,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: RUNNING_ORDER,\r\n\t\tpayload: false,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: GET_WALLET_TRANSACTIONS,\r\n\t\tpayload: walletEmpty,\r\n\t});\r\n};\r\n\r\nexport const updateUserInfo = (user_id, token, unique_order_id) => (dispatch) => {\r\n\treturn Axios.post(UPDATE_USER_INFO_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t\tunique_order_id: unique_order_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: UPDATE_USER_INFO, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkUserRunningOrder = (user_id, token) => (dispatch) => {\r\n\tAxios.post(CHECK_USER_RUNNING_ORDER_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst running_order = response.data;\r\n\t\t\treturn dispatch({ type: RUNNING_ORDER, payload: running_order });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendOtp = (email, phone, accessToken, provider) => (dispatch) => {\r\n\treturn Axios.post(SEND_OTP_URL, {\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\taccessToken: accessToken,\r\n\t\tprovider: provider,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: SEND_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyOtp = (phone, otp) => (dispatch) => {\r\n\tAxios.post(VERIFY_OTP_URL, {\r\n\t\tphone: phone,\r\n\t\totp: otp,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getWalletTransactions = (token, user_id) => (dispatch) => {\r\n\tAxios.post(GET_WALLET_TRANSACTIONS_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst wallet = response.data;\r\n\t\t\treturn dispatch({ type: GET_WALLET_TRANSACTIONS, payload: wallet });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendPasswordResetMail = (email) => (dispatch) => {\r\n\tAxios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\r\n\t\temail: email,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: SEND_PASSWORD_RESET_EMAIL, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyPasswordResetOtp = (email, code) => (dispatch) => {\r\n\tAxios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_PASSWORD_RESET_OTP, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeUserPassword = (email, code, password) => (dispatch) => {\r\n\tAxios.post(CHANGE_USER_PASSWORD_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t\tpassword: password,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: CHANGE_USER_PASSWORD, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","\"use strict\";\n\nfunction _interopRequireDefault(o) {\n  return o && o.__esModule ? o : {\n    default: o\n  };\n}\n\nfunction _objectWithoutProperties(o, e) {\n  var r = {};\n\n  for (var t in o) {\n    e.indexOf(t) >= 0 || Object.prototype.hasOwnProperty.call(o, t) && (r[t] = o[t]);\n  }\n\n  return r;\n}\n\nfunction make(o, e) {\n  var r = e.left,\n      t = e.right,\n      p = e.mirror,\n      n = e.opposite,\n      a = (r ? 1 : 0) | (t ? 2 : 0) | (p ? 16 : 0) | (n ? 32 : 0) | (o ? 64 : 0);\n  if (lookup.hasOwnProperty(a)) return lookup[a];\n\n  if (!p != !(o && n)) {\n    var i = [t, r];\n    r = i[0], t = i[1];\n  }\n\n  var l = r ? \"-100%\" : t ? \"100%\" : \"0\",\n      u = o ? \"from {\\n        opacity: 1;\\n      }\\n      to {\\n        transform: translate3d(\" + l + \", 0, 0) skewX(30deg);\\n        opacity: 0;\\n      }\\n    \" : \"from {\\n        transform: translate3d(\" + l + \", 0, 0) skewX(-30deg);\\n        opacity: 0;\\n      }\\n      60% {\\n        transform: skewX(20deg);\\n        opacity: 1;\\n      }\\n      80% {\\n        transform: skewX(-5deg);\\n        opacity: 1;\\n      }\\n      to {\\n        transform: none;\\n        opacity: 1;\\n      }\";\n  return lookup[a] = (0, _globals.animation)(u), lookup[a];\n}\n\nfunction LightSpeed() {\n  var o = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : _globals.defaults,\n      e = o.children,\n      r = (o.out, o.forever),\n      t = o.timeout,\n      p = o.duration,\n      n = void 0 === p ? _globals.defaults.duration : p,\n      a = o.delay,\n      i = void 0 === a ? _globals.defaults.delay : a,\n      l = o.count,\n      u = void 0 === l ? _globals.defaults.count : l,\n      s = _objectWithoutProperties(o, [\"children\", \"out\", \"forever\", \"timeout\", \"duration\", \"delay\", \"count\"]),\n      d = {\n    make: make,\n    duration: void 0 === t ? n : t,\n    delay: i,\n    forever: r,\n    count: u,\n    style: {\n      animationFillMode: \"both\"\n    }\n  };\n\n  s.left, s.right, s.mirror, s.opposite;\n  return (0, _wrap2.default)(s, d, d, e);\n}\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: !0\n});\n\nvar _wrap = require(\"./wrap\"),\n    _wrap2 = _interopRequireDefault(_wrap),\n    _propTypes = require(\"prop-types\"),\n    _globals = require(\"./globals\"),\n    propTypes = {\n  out: _propTypes.bool,\n  left: _propTypes.bool,\n  right: _propTypes.bool,\n  mirror: _propTypes.bool,\n  opposite: _propTypes.bool,\n  duration: _propTypes.number,\n  timeout: _propTypes.number,\n  delay: _propTypes.number,\n  count: _propTypes.number,\n  forever: _propTypes.bool\n},\n    lookup = {};\n\nLightSpeed.propTypes = propTypes, exports.default = LightSpeed, module.exports = exports.default;","export const formatPrice = price => {\r\n    if (price) {\r\n        let formatedPrice = parseFloat(price);\r\n        formatedPrice = formatedPrice.toFixed(2);\r\n        return formatedPrice;\r\n    }\r\n    return 0;\r\n};\r\n","import { LOAD_CART, ADD_PRODUCT, REMOVE_PRODUCT } from \"./actionTypes\";\r\n\r\nexport const loadCart = products => ({\r\n\ttype: LOAD_CART,\r\n\tpayload: products\r\n});\r\n\r\nexport const addProduct = product => ({\r\n\ttype: ADD_PRODUCT,\r\n\tpayload: product\r\n});\r\n\r\n// export const removeProduct = product => ({\r\n//     type: REMOVE_PRODUCT,\r\n//     payload: product\r\n// });\r\n\r\nexport const removeProduct = product => dispatch => {\r\n\tconsole.log(\"From action\", product);\r\n\r\n\treturn dispatch({ type: REMOVE_PRODUCT, payload: product });\r\n};\r\n","import { UPDATE_CART } from \"./actionTypes\";\r\nimport { formatPrice } from \"../../components/helpers/formatPrice\";\r\n\r\nexport const updateCart = cartProducts => dispatch => {\r\n\tlet productQuantity = cartProducts.reduce((sum, p) => {\r\n\t\t// sum += p.quantity;\r\n\t\tsum++;\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet totalPrice = cartProducts.reduce((sum, p) => {\r\n\t\tlet addonTotal = 0;\r\n\t\tif (p.selectedaddons) {\r\n\t\t\tp.selectedaddons.map(addonArray => {\r\n\t\t\t\taddonTotal += parseFloat(addonArray.price);\r\n\t\t\t\treturn addonTotal;\r\n\t\t\t});\r\n\t\t}\r\n\t\tsum += p.price * p.quantity + addonTotal * p.quantity;\r\n\t\tsum = parseFloat(sum);\r\n\t\tformatPrice(sum);\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet cartTotal = {\r\n\t\tproductQuantity,\r\n\t\ttotalPrice\r\n\t};\r\n\r\n\tdispatch({\r\n\t\ttype: UPDATE_CART,\r\n\t\tpayload: cartTotal\r\n\t});\r\n};\r\n","import {\r\n\tGET_RESTAURANT_INFO,\r\n\tGET_RESTAURANT_INFO_BY_ID,\r\n\tGET_RESTAURANT_ITEMS,\r\n\tRESET_INFO,\r\n\tRESET_ITEMS,\r\n\tSINGLE_ITEM,\r\n\tSEARCH_ITEM,\r\n\tCLEAR_SEARCH,\r\n} from \"./actionTypes\";\r\nimport {\r\n\tGET_RESTAURANT_INFO_BY_ID_URL,\r\n\tGET_RESTAURANT_INFO_URL,\r\n\tGET_RESTAURANT_ITEMS_URL,\r\n\tGET_SINGLE_ITEM_URL,\r\n} from \"../../configs\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nexport const getRestaurantInfo = (slug) => (dispatch) => {\r\n\treturn Axios.post(GET_RESTAURANT_INFO_URL + \"/\" + slug)\r\n\t\t.then((response) => {\r\n\t\t\tconst restaurant_info = response.data;\r\n\t\t\treturn dispatch({ type: GET_RESTAURANT_INFO, payload: restaurant_info });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getRestaurantInfoById = (id) => (dispatch) => {\r\n\tAxios.post(GET_RESTAURANT_INFO_BY_ID_URL + \"/\" + id)\r\n\t\t.then((response) => {\r\n\t\t\tconst restaurant_info = response.data;\r\n\t\t\treturn dispatch({\r\n\t\t\t\ttype: GET_RESTAURANT_INFO_BY_ID,\r\n\t\t\t\tpayload: restaurant_info,\r\n\t\t\t});\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getRestaurantItems = (slug) => (dispatch) => {\r\n\tAxios.post(GET_RESTAURANT_ITEMS_URL + \"/\" + slug)\r\n\t\t.then((response) => {\r\n\t\t\tconst restaurant_items = response.data;\r\n\t\t\treturn dispatch({ type: GET_RESTAURANT_ITEMS, payload: restaurant_items });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getSingleItem = (id) => (dispatch) => {\r\n\tAxios.post(GET_SINGLE_ITEM_URL, {\r\n\t\tid: id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst item = response.data;\r\n\t\t\treturn dispatch({ type: SINGLE_ITEM, payload: item });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const resetItems = () => (dispatch) => {\r\n\tconst empty = [];\r\n\treturn dispatch({ type: RESET_ITEMS, payload: empty });\r\n};\r\n\r\nexport const resetInfo = () => (dispatch) => {\r\n\tconst empty = [];\r\n\treturn dispatch({ type: RESET_INFO, payload: empty });\r\n};\r\n\r\nexport const searchItem = (itemList, itemName, searchFoundText, noResultText) => (dispatch, getState) => {\r\n\tconst searchResultText = searchFoundText + itemName;\r\n\tconst noSearchFoundText = noResultText + itemName;\r\n\t// console.log(JSON.stringify(getState().items.restaurant_items.items));\r\n\r\n\t// const state = getState().items.restaurant_items.items;\r\n\tlet arr = [];\r\n\tlet foodItems = [];\r\n\tif (itemList && [itemList].length >= 0) {\r\n\t\tObject.keys(itemList).forEach((keys) => {\r\n\t\t\titemList[keys].forEach((itemsList) => {\r\n\t\t\t\tarr.push(itemsList);\r\n\t\t\t\tfoodItems = arr.filter((product) => {\r\n\t\t\t\t\treturn product.name.toLowerCase().indexOf(itemName.toLowerCase()) !== -1;\r\n\t\t\t\t});\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\tif (foodItems.length > 0) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: SEARCH_ITEM,\r\n\t\t\tpayload: { items: { [searchResultText]: foodItems } },\r\n\t\t});\r\n\t} else if (foodItems.length <= 0) {\r\n\t\treturn dispatch({\r\n\t\t\ttype: SEARCH_ITEM,\r\n\t\t\tpayload: { items: { [noSearchFoundText]: foodItems } },\r\n\t\t});\r\n\t}\r\n};\r\n\r\nexport const clearSearch = (data) => (dispatch) => {\r\n\treturn dispatch({ type: CLEAR_SEARCH, payload: data });\r\n};\r\n","import { CONFIRM_CART } from \"./actionTypes\";\r\nimport { CHECK_CART_ITEMS_AVAILABILITY_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const checkConfirmCart = () => dispatch => {\r\n\tconst confirmCart = true;\r\n\treturn dispatch({ type: CONFIRM_CART, payload: confirmCart });\r\n};\r\n\r\nexport const checkCartItemsAvailability = items => dispatch => {\r\n\treturn Axios.post(CHECK_CART_ITEMS_AVAILABILITY_URL, {\r\n\t\titems: items\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst data = response.data;\r\n\t\t\t// console.log(data);\r\n\t\t\treturn data;\r\n\t\t\t// return dispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","import { PLACE_ORDER } from \"./actionTypes\";\r\nimport { PLACE_ORDER_URL } from \"../../configs\";\r\nimport { APPLY_COUPON } from \"../coupon/actionTypes\";\r\n\r\nimport Axios from \"axios\";\r\nimport { updateCart } from \"../total/actions\";\r\n\r\nexport const placeOrder = (\r\n\tuser,\r\n\torder,\r\n\tcoupon,\r\n\tlocation,\r\n\torder_comment,\r\n\ttotal,\r\n\tmethod,\r\n\tpayment_token,\r\n\tdelivery_type,\r\n\tpartial_wallet\r\n) => (dispatch, getState) => {\r\n\tAxios.post(PLACE_ORDER_URL, {\r\n\t\ttoken: user.data.auth_token,\r\n\t\tuser: user,\r\n\t\torder: order,\r\n\t\tcoupon: coupon,\r\n\t\tlocation: location,\r\n\t\torder_comment: order_comment,\r\n\t\ttotal: total,\r\n\t\tmethod: method,\r\n\t\tpayment_token: payment_token,\r\n\t\tdelivery_type: delivery_type,\r\n\t\tpartial_wallet: partial_wallet\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst checkout = response.data;\r\n\r\n\t\t\tif (checkout.success) {\r\n\t\t\t\tdispatch({ type: PLACE_ORDER, payload: checkout });\r\n\r\n\t\t\t\tconst state = getState();\r\n\t\t\t\t// console.log(state);\r\n\t\t\t\tconst cartProducts = state.cart.products;\r\n\t\t\t\t// const user = state.user.user;\r\n\t\t\t\tlocalStorage.removeItem(\"orderComment\");\r\n\r\n\t\t\t\tfor (let i = cartProducts.length - 1; i >= 0; i--) {\r\n\t\t\t\t\t// remove all items from cart\r\n\t\t\t\t\tcartProducts.splice(i, 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch(updateCart(cartProducts));\r\n\r\n\t\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t\tconst coupon = [];\r\n\t\t\t\tdispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","export const calculateDistance = (lon1, lat1, lon2, lat2) => {\r\n    function toRad(x) {\r\n        return (x * Math.PI) / 180;\r\n    }\r\n\r\n    let R = 6371; // km\r\n\r\n    let x1 = lat2 - lat1;\r\n    let dLat = toRad(x1);\r\n    let x2 = lon2 - lon1;\r\n    let dLon = toRad(x2);\r\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    let distance = R * c;\r\n    return distance;\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport { connect } from \"react-redux\";\r\nimport { formatPrice } from \"../../../helpers/formatPrice\";\r\n\r\nclass BillDetails extends Component {\r\n\tstate = {\r\n\t\tdelivery_charges: 0,\r\n\t\tdistance: 0\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\tthis.setState({ delivery_charges: 0 });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: this.props.restaurant_info.delivery_charges });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\tif (this.props.restaurant_info.delivery_charges !== nextProps.restaurant_info.delivery_charges) {\r\n\t\t\t\tthis.setState({ delivery_charges: nextProps.restaurant_info.delivery_charges });\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\tif (nextProps.distance) {\r\n\t\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\t\tif (nextProps.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\r\n\t\t\t\t\tthis.setState({ distance: nextProps.distance }, () => {\r\n\t\t\t\t\t\t//check if restaurant has dynamic delivery charge..\r\n\t\t\t\t\t\tthis.calculateDynamicDeliveryCharge();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tcalculateDynamicDeliveryCharge = () => {\r\n\t\tconst { restaurant_info } = this.props;\r\n\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\tconsole.log(\"Distance from user to restaurant: \" + distanceFromUserToRestaurant + \" km\");\r\n\r\n\t\tif (distanceFromUserToRestaurant > restaurant_info.base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - restaurant_info.base_delivery_distance;\r\n\t\t\tconsole.log(\"Extra Distance: \" + extraDistance + \" km\");\r\n\r\n\t\t\tconst extraCharge =\r\n\t\t\t\t(extraDistance / restaurant_info.extra_delivery_distance) * restaurant_info.extra_delivery_charge;\r\n\t\t\tconsole.log(\"Extra Charge: \" + extraCharge);\r\n\r\n\t\t\tlet dynamicDeliveryCharge = parseFloat(restaurant_info.base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\tconsole.log(\"Total Charge: \" + dynamicDeliveryCharge);\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tdynamicDeliveryCharge = Math.ceil(dynamicDeliveryCharge);\r\n\t\t\t}\r\n\r\n\t\t\tthis.setState({ delivery_charges: dynamicDeliveryCharge });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: restaurant_info.base_delivery_charge });\r\n\t\t}\r\n\t};\r\n\r\n\t// Calculating total with/without coupon/tax\r\n\tgetTotalAfterCalculation = () => {\r\n\t\tconst { total, restaurant_info, coupon } = this.props;\r\n\t\tlet calc = 0;\r\n\t\tif (coupon.code) {\r\n\t\t\tif (coupon.discount_type === \"PERCENTAGE\") {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tformatPrice(\r\n\t\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t\tformatPrice((coupon.discount / 100) * parseFloat(total)) +\r\n\t\t\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t(parseFloat(coupon.discount) || 0.0) +\r\n\t\t\t\t\t\t((parseFloat(restaurant_info.restaurant_charges) || 0.0) +\r\n\t\t\t\t\t\t\t(parseFloat(this.state.delivery_charges) || 0.0))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(total) +\r\n\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"taxApplicable\") === \"true\") {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(\r\n\t\t\t\t\tparseFloat(calc) + parseFloat(parseFloat(localStorage.getItem(\"taxPercentage\")) / 100) * calc\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\treturn calc;\r\n\t\t} else {\r\n\t\t\treturn calc;\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { total, restaurant_info, coupon } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"bg-white bill-details mb-200\">\r\n\t\t\t\t\t<div className=\"p-15\">\r\n\t\t\t\t\t\t<h2 className=\"bill-detail-text m-0\">{localStorage.getItem(\"cartBillDetailsText\")}</h2>\r\n\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartItemTotalText\")}</div>\r\n\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t{formatPrice(total)}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{coupon.code && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto coupon-text\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartCouponText\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right coupon-text\">\r\n\t\t\t\t\t\t\t\t\t\t<span>-</span>\r\n\t\t\t\t\t\t\t\t\t\t{coupon.discount_type === \"PERCENTAGE\" ? (\r\n\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + \"%\"\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\") + coupon.discount}\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{restaurant_info.restaurant_charges === \"0.00\" ||\r\n\t\t\t\t\t\trestaurant_info.restaurant_charges === null ? null : (\r\n\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartRestaurantCharges\")}</div>\r\n\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t{restaurant_info.restaurant_charges}\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t{this.state.delivery_charges === 0 ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartDeliveryCharges\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t0\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto\">{localStorage.getItem(\"cartDeliveryCharges\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right\">\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{formatPrice(this.state.delivery_charges)}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{localStorage.getItem(\"taxApplicable\") === \"true\" && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-danger\">{localStorage.getItem(\"taxText\")}</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"flex-auto text-right text-danger\">\r\n\t\t\t\t\t\t\t\t\t\t<span>+</span>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"taxPercentage\")}%\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t<div className=\"display-flex\">\r\n\t\t\t\t\t\t\t<div className=\"flex-auto font-w700\">{localStorage.getItem(\"cartToPayText\")}</div>\r\n\t\t\t\t\t\t\t<div className=\"flex-auto text-right font-w700\">\r\n\t\t\t\t\t\t\t\t{/* Calculating total after discount coupon or without discount coupon */}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t{this.getTotalAfterCalculation()}\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t{localStorage.getItem(\"userSelected\") === \"SELFPICKUP\" && (\r\n\t\t\t\t\t\t\t<p className=\"my-2 mt-3 text-danger font-weight-bold\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"selectedSelfPickupMessage\")}\r\n\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tcoupon: state.coupon.coupon,\r\n\trestaurant_info: state.items.restaurant_info\r\n});\r\n\r\nexport default connect(mapStateToProps, {})(BillDetails);\r\n","import React, { Component } from \"react\";\r\n\r\nimport DelayLink from \"../../../helpers/delayLink\";\r\nimport Ink from \"react-ink\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { checkConfirmCart, checkCartItemsAvailability } from \"../../../../services/confirmCart/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { placeOrder } from \"../../../../services/checkout/actions\";\r\nimport { addProduct } from \"../../../../services/cart/actions\";\r\nimport { updateCart } from \"../../../../services/total/actions\";\r\n\r\nclass CartCheckoutBlock extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null\r\n\t};\r\n\t// state = {\r\n\t//     loading: true,\r\n\t//     is_operational: true\r\n\t// };\r\n\r\n\tstate = {\r\n\t\tprocess_cart_loading: false\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\t// this.props.checkForItemsAvailability();\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\t// const { checkout} = this.props;\r\n\t\tif (nextProps.checkout !== this.props.checkout) {\r\n\t\t\t//redirect to running order page\r\n\t\t\tthis.context.router.history.push(\"/running-order\");\r\n\t\t}\r\n\t\t// console.log(\"NEXT PROPS - \" + nextProps.is_operational);\r\n\t\t// if (nextProps.is_operational !== this.props.is_operational) {\r\n\t\t//     console.log(\"Came here -> FROM CHILD\");\r\n\t\t//     this.setState({ is_operational: false, loading: false });\r\n\t\t// }\r\n\t}\r\n\r\n\tprocessCart = () => {\r\n\t\tconst {\r\n\t\t\thandleProcessCartLoading,\r\n\t\t\tcheckCartItemsAvailability,\r\n\t\t\tcartProducts,\r\n\t\t\taddProduct,\r\n\t\t\tupdateCart,\r\n\t\t\tcheckConfirmCart,\r\n\t\t\thandleItemsAvailability\r\n\t\t} = this.props;\r\n\r\n\t\thandleProcessCartLoading(true);\r\n\r\n\t\tcheckCartItemsAvailability(cartProducts).then(response => {\r\n\t\t\thandleProcessCartLoading(false);\r\n\t\t\tthis.setState({ process_cart_loading: false });\r\n\t\t\tif (response.length) {\r\n\t\t\t\tcartProducts\r\n\t\t\t\t\t.filter(({ id }) => response.includes(id))\r\n\t\t\t\t\t.map(item => {\r\n\t\t\t\t\t\titem.is_active = 0;\r\n\t\t\t\t\t\taddProduct(item);\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t});\r\n\t\t\t\tupdateCart(this.props.cartProducts);\r\n\t\t\t\thandleItemsAvailability(false); //all items not available\r\n\t\t\t} else {\r\n\t\t\t\tcartProducts.map(item => {\r\n\t\t\t\t\titem.is_active = 1;\r\n\t\t\t\t\taddProduct(item);\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t});\r\n\t\t\t\tupdateCart(this.props.cartProducts);\r\n\t\t\t\tcheckConfirmCart();\r\n\t\t\t\tthis.context.router.history.push(\"/checkout\");\r\n\t\t\t}\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\t// console.log(\"LOADING - \" + this.state.loading);\r\n\r\n\t\tconst { user } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div\r\n\t\t\t\t\tclassName=\"bg-white cart-checkout-block\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\theight: user.success && localStorage.getItem(\"userSelected\") === \"SELFPICKUP\" ? \"auto\" : \"22vh\"\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{user.success ? (\r\n\t\t\t\t\t\tuser.data.default_address == null ? (\r\n\t\t\t\t\t\t\t<div className=\"p-15\">\r\n\t\t\t\t\t\t\t\t<h2 className=\"almost-there-text m-0 pb-5\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartSetYourAddress\")}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\t\tto=\"/my-addresses\"\r\n\t\t\t\t\t\t\t\t\tdelay={200}\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-continue\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tposition: \"relative\",\r\n\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\")\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"buttonNewAddress\")}\r\n\t\t\t\t\t\t\t\t\t<Ink duration={500} />\r\n\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"userSelected\") === \"DELIVERY\" && (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"px-15 py-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t<Link\r\n\t\t\t\t\t\t\t\t\t\t\t\tto={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpathname: \"/my-addresses\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstate: {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant_id: this.props.restaurant_id\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"change-address-text m-0 p-5 pull-right\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartChangeLocation\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Ink duration={400} />\r\n\t\t\t\t\t\t\t\t\t\t\t</Link>\r\n\t\t\t\t\t\t\t\t\t\t\t<h2 className=\"deliver-to-text m-0 pl-0 pb-5\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartDeliverTo\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"user-address truncate-text m-0 pt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{user.data.default_address.address}\r\n\t\t\t\t\t\t\t\t\t\t\t\t{user.data.default_address.house !== null && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<p className=\"truncate-text\">{user.data.default_address.house}</p>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t{this.props.is_operational ? (\r\n\t\t\t\t\t\t\t\t\t\t<div style={{ marginTop: \"1.6rem\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={this.processCart}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-make-payment\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorText\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tposition: \"relative\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutSelectPayment\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Ink duration={400} />\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"auth-error bg-danger\">\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"error-shake\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartRestaurantNotOperational\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"p-15\">\r\n\t\t\t\t\t\t\t<h2 className=\"almost-there-text m-0 pb-5\">{localStorage.getItem(\"cartLoginHeader\")}</h2>\r\n\t\t\t\t\t\t\t<span className=\"almost-there-sub text-muted\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartLoginSubHeader\")}\r\n\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t<DelayLink\r\n\t\t\t\t\t\t\t\tto=\"/login\"\r\n\t\t\t\t\t\t\t\tdelay={200}\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-continue\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\tposition: \"relative\"\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartLoginButtonText\")}\r\n\t\t\t\t\t\t\t\t<Ink duration={500} />\r\n\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tuser: state.user.user,\r\n\taddresses: state.addresses.addresses,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tcheckout: state.checkout.checkout,\r\n\trestaurant: state.restaurant\r\n});\r\n\r\nexport default connect(mapStateToProps, {\r\n\tplaceOrder,\r\n\tcheckConfirmCart,\r\n\tcheckCartItemsAvailability,\r\n\taddProduct,\r\n\tupdateCart\r\n})(CartCheckoutBlock);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport { formatPrice } from \"../../../helpers/formatPrice\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass CartItems extends Component {\r\n\t_getItemTotal = (item) => {\r\n\t\tlet addonTotal = 0;\r\n\t\tlet sum = 0;\r\n\t\tif (item.selectedaddons) {\r\n\t\t\titem.selectedaddons.map((addonArray) => {\r\n\t\t\t\taddonTotal += parseFloat(addonArray.price);\r\n\t\t\t\treturn addonTotal;\r\n\t\t\t});\r\n\t\t}\r\n\t\tsum += item.price * item.quantity + addonTotal * item.quantity;\r\n\t\tsum = parseFloat(sum);\r\n\r\n\t\tif (localStorage.getItem(\"currencySymbolAlign\") === \"left\") {\r\n\t\t\treturn localStorage.getItem(\"currencyFormat\") + formatPrice(sum);\r\n\t\t} else {\r\n\t\t\treturn formatPrice(sum) + localStorage.getItem(\"currencyFormat\");\r\n\t\t}\r\n\t};\r\n\t_generateKey = (pre) => {\r\n\t\tlet newkey = `${pre}_${new Date().getTime()}_${Math.random()\r\n\t\t\t.toString(36)\r\n\t\t\t.substring(2, 15) +\r\n\t\t\tMath.random()\r\n\t\t\t\t.toString(36)\r\n\t\t\t\t.substring(2, 15)}`;\r\n\t\tconsole.log(newkey);\r\n\t\treturn newkey;\r\n\t};\r\n\trender() {\r\n\t\tconst { addProductQuantity, removeProductQuantity, item, removeProduct } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"cart-item-meta pt-15 pb-15 align-items-center\">\r\n\t\t\t\t\t<div className=\"cart-item-name\">\r\n\t\t\t\t\t\t{localStorage.getItem(\"showVegNonVegBadge\") === \"true\" && item.is_veg !== null && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t{item.is_veg ? (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/veg-icon.png\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"Veg\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"1rem\" }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/non-veg-icon.png\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"Non-Veg\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"1rem\" }}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"mr-1\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\r\n\t\t\t\t\t\t<span className={`${!item.is_active && \"text-danger\"}`}>{item.name}</span>\r\n\r\n\t\t\t\t\t\t{item.selectedaddons && (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t{item.selectedaddons.map((addonArray, index) => (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment key={item.id + addonArray.addon_id}>\r\n\t\t\t\t\t\t\t\t\t\t<span style={{ color: \"#adadad\", fontSize: \"0.8rem\" }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{(index ? \", \" : \"\") + addonArray.addon_name}\r\n\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{item.is_active ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<div className=\"btn-group btn-group-sm cart-item-btn\">\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-add-remove\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColor-bg\"),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={() => removeProductQuantity(item)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"btn-dec\">-</span>\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button type=\"button\" className=\"btn btn-quantity\">\r\n\t\t\t\t\t\t\t\t\t{item.quantity}\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-add-remove\"\r\n\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColor-bg\"),\r\n\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\tonClick={() => addProductQuantity(item)}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<span className=\"btn-inc\">+</span>\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"cart-item-price\">\r\n\t\t\t\t\t\t\t\t<React.Fragment>{this._getItemTotal(item)}</React.Fragment>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-add-remove text-danger\"\r\n\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColor-bg\"),\r\n\t\t\t\t\t\t\t\t\tminWidth: \"132.05px\",\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\t\t\t\tremoveProduct(item);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartRemoveItemButton\")}\r\n\t\t\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t\t\t<div className=\"cart-item-price text-danger\">\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartItemNotAvailable\")}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{}\r\n)(CartItems);\r\n","import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport { applyCoupon } from \"../../../../services/coupon/actions\";\r\nimport { connect } from \"react-redux\";\r\n\r\nclass Coupon extends Component {\r\n\tstate = {\r\n\t\tinputCoupon: \"\",\r\n\t\tcouponFailed: true\r\n\t};\r\n\t// componentDidMount() {\r\n\t//     localStorage.removeItem(\"appliedCoupon\");\r\n\t// }\r\n\r\n\tcomponentDidMount() {\r\n\t\t// automatically apply coupon if already exists in localstorage\r\n\t\tif (localStorage.getItem(\"appliedCoupon\")) {\r\n\t\t\tthis.props.applyCoupon(localStorage.getItem(\"appliedCoupon\"), this.props.restaurant_info.id);\r\n\t\t}\r\n\t}\r\n\tcomponentWillReceiveProps(newProps) {\r\n\t\tconst { coupon } = this.props;\r\n\t\t//check if props changed after calling the server\r\n\t\tif (coupon !== newProps.coupon) {\r\n\t\t\t//if newProps.coupon is false then, coupon is invalid\r\n\t\t\tif (!newProps.coupon) {\r\n\t\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t\tthis.setState({ couponFailed: false });\r\n\t\t\t} else {\r\n\t\t\t\t// coupon is valid\r\n\t\t\t\tlocalStorage.setItem(\"appliedCoupon\", newProps.coupon.code);\r\n\t\t\t\tthis.setState({ couponFailed: true });\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\thandleInput = event => {\r\n\t\tthis.setState({ inputCoupon: event.target.value });\r\n\t};\r\n\r\n\thandleSubmit = event => {\r\n\t\tevent.preventDefault();\r\n\t\tthis.props.applyCoupon(this.state.inputCoupon, this.props.restaurant_info.id);\r\n\t};\r\n\r\n\t// componentWillUnmount() {\r\n\t//     this.props.coupon.code = undefined;\r\n\t// }\r\n\r\n\trender() {\r\n\t\tconst { coupon } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"input-group mb-20\">\r\n\t\t\t\t\t<form className=\"coupon-form\" onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t\t<div className=\"input-group\">\r\n\t\t\t\t\t\t\t<div className=\"input-group-prepend\">\r\n\t\t\t\t\t\t\t\t<button className=\"btn apply-coupon-btn\">\r\n\t\t\t\t\t\t\t\t\t<i className=\"si si-tag\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t\t\tclassName=\"form-control apply-coupon-input\"\r\n\t\t\t\t\t\t\t\tplaceholder={localStorage.getItem(\"cartCouponText\")}\r\n\t\t\t\t\t\t\t\tonChange={this.handleInput}\r\n\t\t\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\tspellCheck=\"false\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<div className=\"input-group-append\">\r\n\t\t\t\t\t\t\t\t<button type=\"submit\" className=\"btn apply-coupon-btn\" onClick={this.handleSubmit}>\r\n\t\t\t\t\t\t\t\t\t<i className=\"si si-arrow-right\" />\r\n\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</form>\r\n\t\t\t\t\t<div className=\"coupon-status\">\r\n\t\t\t\t\t\t{coupon.code && (\r\n\t\t\t\t\t\t\t<div className=\"coupon-success pt-10 pb-10\">\r\n\t\t\t\t\t\t\t\t{'\"' + coupon.code + '\"'} {localStorage.getItem(\"cartApplyCoupon\")}{\" \"}\r\n\t\t\t\t\t\t\t\t{coupon.discount_type === \"PERCENTAGE\" ? (\r\n\t\t\t\t\t\t\t\t\tcoupon.discount + \"%\"\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\") + coupon.discount}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tcoupon.discount + localStorage.getItem(\"currencyFormat\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartCouponOffText\")}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t{/* Coupon is not applied, then coupon state is true */}\r\n\t\t\t\t\t\t{!this.state.couponFailed && (\r\n\t\t\t\t\t\t\t<div className=\"coupon-fail pt-10 pb-10\">{localStorage.getItem(\"cartInvalidCoupon\")}</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\tcoupon: state.coupon.coupon,\r\n\trestaurant_info: state.items.restaurant_info\r\n});\r\n\r\nexport default connect(mapStateToProps, { applyCoupon })(Coupon);\r\n","import { APPLY_COUPON } from \"./actionTypes\";\r\nimport { APPLY_COUPON_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const applyCoupon = (coupon, restaurant_id) => dispatch => {\r\n\tAxios.post(APPLY_COUPON_URL, {\r\n\t\tcoupon: coupon,\r\n\t\trestaurant_id: restaurant_id\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst coupon = response.data;\r\n\t\t\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const removeCoupon = () => dispatch => {\r\n\tconst coupon = [];\r\n\treturn dispatch({ type: APPLY_COUPON, payload: coupon });\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nclass OrderComment extends Component {\r\n    state = {\r\n        comment: \"\"\r\n    };\r\n\r\n    componentDidMount() {\r\n        this.setState({ comment: localStorage.getItem(\"orderComment\") });\r\n    }\r\n\r\n    handleInput = event => {\r\n        this.setState({ comment: event.target.value });\r\n        localStorage.setItem(\"orderComment\", event.target.value);\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <input\r\n                    className=\"form-control order-comment mb-20\"\r\n                    type=\"text\"\r\n                    placeholder={localStorage.getItem(\"cartSuggestionPlaceholder\")}\r\n                    onChange={this.handleInput}\r\n                    value={this.state.comment || \"\"}\r\n                />\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default OrderComment;\r\n","import React, { Component } from \"react\";\r\n\r\nimport ContentLoader from \"react-content-loader\";\r\n\r\nclass RestaurantInfoCart extends Component {\r\n\trender() {\r\n\t\tconst { restaurant } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"bg-white\">\r\n\t\t\t\t\t{restaurant.length === 0 ? (\r\n\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\theight={150}\r\n\t\t\t\t\t\t\twidth={400}\r\n\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t<rect x=\"20\" y=\"70\" rx=\"4\" ry=\"4\" width=\"80\" height=\"78\" />\r\n\t\t\t\t\t\t\t<rect x=\"144\" y=\"85\" rx=\"0\" ry=\"0\" width=\"115\" height=\"18\" />\r\n\t\t\t\t\t\t\t<rect x=\"144\" y=\"115\" rx=\"0\" ry=\"0\" width=\"165\" height=\"16\" />\r\n\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<div className=\"bg-light pb-10\" style={{ paddingTop: \"5rem\" }}>\r\n\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full pt-2\">\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc={restaurant.image}\r\n\t\t\t\t\t\t\t\t\t\talt={restaurant.name}\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"restaurant-image mt-0\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full restaurant-info\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"font-w600 mb-5 text-dark\">{restaurant.name}</h4>\r\n\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm text-muted truncate-text text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t{restaurant.description}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{restaurant.is_pureveg === 1 && (\r\n\t\t\t\t\t\t\t\t\t\t<p className=\"mb-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t<span className=\"font-size-sm pr-1 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"pureVegText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/pure-veg.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\talt=\"PureVeg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ width: \"20px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t<div className=\"text-center restaurant-meta mt-5 d-flex align-items-center justify-content-between text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-2 p-0 text-left\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"fa fa-star\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\")\r\n\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t/>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{restaurant.rating}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-4 p-0 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-clock\" /> {restaurant.delivery_time}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageMinsText\")}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-6 p-0 text-center\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-wallet\" /> {restaurant.price_range}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"homePageForTwoText\")}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default RestaurantInfoCart;\r\n","import React, { Component } from \"react\";\r\n\r\nimport { checkUserRunningOrder, updateUserInfo } from \"../../../services/user/actions\";\r\n\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport BillDetails from \"./BillDetails\";\r\nimport CartCheckoutBlock from \"./CartCheckoutBlock\";\r\nimport CartItems from \"./CartItems\";\r\nimport Coupon from \"./Coupon\";\r\nimport DelayLink from \"../../helpers/delayLink\";\r\nimport Footer from \"../Footer\";\r\nimport Ink from \"react-ink\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport OrderComment from \"./OrderComment\";\r\nimport { Redirect } from \"react-router\";\r\nimport RestaurantInfoCart from \"./RestaurantInfoCart\";\r\nimport { calculateDistance } from \"../../helpers/calculateDistance\";\r\nimport { connect } from \"react-redux\";\r\nimport { getRestaurantInfoById } from \"../../../services/items/actions\";\r\nimport { updateCart } from \"../../../services/total/actions\";\r\nimport { formatPrice } from \"../../helpers/formatPrice\";\r\nimport { addProduct } from \"../../../services/cart/actions\";\r\nimport { checkCartItemsAvailability } from \"../../../services/confirmCart/actions\";\r\n\r\nclass Cart extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tstate = {\r\n\t\tloading: false,\r\n\t\talreadyRunningOrders: false,\r\n\t\tis_operational_loading: true,\r\n\t\tis_operational: true,\r\n\t\tdistance: 0,\r\n\t\tis_active: false,\r\n\t\tmin_order_satisfied: false,\r\n\t\tprocess_cart_loading: false,\r\n\t\tis_all_items_available: false,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.cartProducts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey\");\r\n\r\n\t\t\tthis.checkForItemsAvailability();\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"activeRestaurant\") !== null) {\r\n\t\t\tthis.props.getRestaurantInfoById(localStorage.getItem(\"activeRestaurant\"));\r\n\t\t}\r\n\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.checkUserRunningOrder(user.data.id, user.data.auth_token);\r\n\t\t\tthis.props.updateUserInfo(user.data.id, user.data.auth_token).then((updatedUser) => {\r\n\t\t\t\t// console.log(\"THIS SHOULD BE CALLED: UPDATED USER\", updatedUser);\r\n\t\t\t\tif (typeof updatedUser !== \"undefined\") {\r\n\t\t\t\t\tconst userSetAddress = {\r\n\t\t\t\t\t\tlat: updatedUser.payload.data.default_address.latitude,\r\n\t\t\t\t\t\tlng: updatedUser.payload.data.default_address.longitude,\r\n\t\t\t\t\t\taddress: updatedUser.payload.data.default_address.address,\r\n\t\t\t\t\t\thouse: updatedUser.payload.data.default_address.house,\r\n\t\t\t\t\t\ttag: updatedUser.payload.data.default_address.tag,\r\n\t\t\t\t\t};\r\n\t\t\t\t\tlocalStorage.setItem(\"userSetAddress\", JSON.stringify(userSetAddress));\r\n\t\t\t\t} else {\r\n\t\t\t\t\tconsole.warn(\"Failed to fetch update user info... Solution: Reload Page\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tthis.setState({ alreadyRunningOrders: false });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (nextProps.restaurant_info.id) {\r\n\t\t\tthis.__doesRestaurantOperatesAtThisLocation(nextProps.restaurant_info);\r\n\r\n\t\t\tthis.__isRestaurantActive(nextProps.restaurant_info);\r\n\r\n\t\t\tthis.__checkMinOrderSatisfied(nextProps.restaurant_info, nextProps.cartTotal);\r\n\t\t}\r\n\r\n\t\tif (nextProps.running_order) {\r\n\t\t\tthis.setState({ alreadyRunningOrders: true });\r\n\t\t}\r\n\t}\r\n\taddProductQuantity = (product) => {\r\n\t\tconst { cartProducts, updateCart } = this.props;\r\n\t\tlet productAlreadyInCart = false;\r\n\r\n\t\tcartProducts.forEach((cp) => {\r\n\t\t\tif (cp.id === product.id) {\r\n\t\t\t\tif (JSON.stringify(cp.selectedaddons) === JSON.stringify(product.selectedaddons)) {\r\n\t\t\t\t\tcp.quantity += 1;\r\n\t\t\t\t\tproductAlreadyInCart = true;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\tif (!productAlreadyInCart) {\r\n\t\t\tcartProducts.push(product);\r\n\t\t}\r\n\r\n\t\tupdateCart(cartProducts);\r\n\t};\r\n\r\n\tremoveProductQuantity = (product) => {\r\n\t\tconst { cartProducts, updateCart } = this.props;\r\n\r\n\t\tconst index = cartProducts.findIndex(\r\n\t\t\t(p) => p.id === product.id && JSON.stringify(p) === JSON.stringify(product)\r\n\t\t);\r\n\t\t//if product is in the cart then index will be greater than 0\r\n\t\tif (index >= 0) {\r\n\t\t\tcartProducts.forEach((cp) => {\r\n\t\t\t\tif (cp.id === product.id) {\r\n\t\t\t\t\tif (JSON.stringify(cp) === JSON.stringify(product)) {\r\n\t\t\t\t\t\tif (cp.quantity === 1) {\r\n\t\t\t\t\t\t\t//if quantity is 1 then remove product from cart\r\n\t\t\t\t\t\t\tcartProducts.splice(index, 1);\r\n\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t//else decrement the quantity by 1\r\n\t\t\t\t\t\t\tcp.quantity -= 1;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t});\r\n\r\n\t\t\tupdateCart(cartProducts);\r\n\t\t}\r\n\t};\r\n\r\n\tremoveProduct = (product) => {\r\n\t\t// console.log(product);\r\n\t\t// console.log(product.id);\r\n\r\n\t\tconst { cartProducts, updateCart } = this.props;\r\n\t\tconst index = cartProducts.findIndex((cp) => cp.id === product.id);\r\n\r\n\t\t// console.log(index);\r\n\t\tcartProducts.splice(index, 1);\r\n\t\t// console.log(cartProducts);\r\n\t\tupdateCart(cartProducts);\r\n\r\n\t\tthis.checkForItemsAvailability();\r\n\t};\r\n\r\n\t__doesRestaurantOperatesAtThisLocation = (restaurant_info) => {\r\n\t\t//send user lat long to helper, check with the current restaurant lat long and setstate accordingly\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tconst distance = calculateDistance(\r\n\t\t\t\trestaurant_info.longitude,\r\n\t\t\t\trestaurant_info.latitude,\r\n\t\t\t\tuser.data.default_address.longitude,\r\n\t\t\t\tuser.data.default_address.latitude\r\n\t\t\t);\r\n\t\t\t// console.log(distance);\r\n\t\t\tthis.setState({ distance: distance });\r\n\t\t\tif (distance <= restaurant_info.delivery_radius) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tis_operational: true,\r\n\t\t\t\t\tis_operational_loading: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tis_operational: false,\r\n\t\t\t\t\tis_operational_loading: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tconst distance = calculateDistance(\r\n\t\t\t\trestaurant_info.longitude,\r\n\t\t\t\trestaurant_info.latitude,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")).lng,\r\n\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")).lat\r\n\t\t\t);\r\n\t\t\tthis.setState({ distance: distance });\r\n\t\t\t// console.log(distance);\r\n\t\t\tif (distance <= restaurant_info.delivery_radius) {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tis_operational: true,\r\n\t\t\t\t\tis_operational_loading: false,\r\n\t\t\t\t});\r\n\t\t\t} else {\r\n\t\t\t\tthis.setState({\r\n\t\t\t\t\tis_operational: false,\r\n\t\t\t\t\tis_operational_loading: false,\r\n\t\t\t\t});\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\t__isRestaurantActive = (restaurant_info) => {\r\n\t\tif (restaurant_info.is_active) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tis_active: true,\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\t__checkMinOrderSatisfied = (restaurant_info, cartTotal) => {\r\n\t\tif (restaurant_info.min_order_price > 0) {\r\n\t\t\t//if not null, then check the min order price with the order total\r\n\t\t\tconst totalPrice = parseFloat(formatPrice(cartTotal.totalPrice));\r\n\t\t\tconst minOrderPrice = parseFloat(formatPrice(restaurant_info.min_order_price));\r\n\t\t\tif (totalPrice >= minOrderPrice) {\r\n\t\t\t\t// console.log(\"Order Can Be Placed\", totalPrice + \" -- \" + minOrderPrice);\r\n\t\t\t\tthis.setState({ min_order_satisfied: true });\r\n\t\t\t} else {\r\n\t\t\t\t// console.log(\"Order CANNOT Be Placed\", totalPrice + \" -- \" + minOrderPrice);\r\n\t\t\t\tthis.setState({ min_order_satisfied: false });\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\t// if null, then set to satisfied to true...\r\n\t\t\t// console.log(\"Min order price is not set\");\r\n\t\t\tthis.setState({ min_order_satisfied: true });\r\n\t\t}\r\n\t};\r\n\r\n\thandleProcessCartLoading = (value) => {\r\n\t\tthis.setState({ process_cart_loading: value });\r\n\t};\r\n\r\n\tcheckForItemsAvailability = () => {\r\n\t\tconst { checkCartItemsAvailability, cartProducts, addProduct, updateCart } = this.props;\r\n\t\tthis.handleProcessCartLoading(true);\r\n\t\tcheckCartItemsAvailability(cartProducts).then((response) => {\r\n\t\t\tthis.handleProcessCartLoading(false);\r\n\t\t\tthis.setState({ process_cart_loading: false });\r\n\t\t\tif (response.length) {\r\n\t\t\t\t//get inactive items and mark as is_active 0\r\n\t\t\t\tcartProducts\r\n\t\t\t\t\t.filter(({ id }) => response.includes(id))\r\n\t\t\t\t\t.map((item) => {\r\n\t\t\t\t\t\titem.is_active = 0;\r\n\t\t\t\t\t\taddProduct(item);\r\n\t\t\t\t\t\treturn item;\r\n\t\t\t\t\t});\r\n\t\t\t\tthis.handleItemsAvailability(false);\r\n\t\t\t} else {\r\n\t\t\t\t//if response length is 0 that means all items in cart are available, make all active\r\n\t\t\t\tcartProducts.map((item) => {\r\n\t\t\t\t\titem.is_active = 1;\r\n\t\t\t\t\taddProduct(item);\r\n\t\t\t\t\treturn item;\r\n\t\t\t\t});\r\n\t\t\t\tthis.handleItemsAvailability(true);\r\n\t\t\t}\r\n\t\t\tupdateCart(this.props.cartProducts);\r\n\t\t});\r\n\t};\r\n\thandleItemsAvailability = (value) => {\r\n\t\tthis.setState({ is_all_items_available: value });\r\n\t};\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey\");\r\n\t}\r\n\r\n\trender() {\r\n\t\t// console.log(\"IS ITEMS AVAILABLE\", this.state.is_all_items_available);\r\n\r\n\t\t// console.log(\"MIN ORDER SATISFIED?\", this.state.min_order_satisfied);\r\n\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tif (!this.props.cartProducts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey\");\r\n\t\t}\r\n\t\tconst { cartTotal, cartProducts, restaurant_info } = this.props;\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"cartPageTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t{this.state.process_cart_loading && (\r\n\t\t\t\t\t<div className=\"height-100 overlay-loading ongoing-payment-spin\">\r\n\t\t\t\t\t\t<div className=\"spin-load\" />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\r\n\t\t\t\t{this.state.loading ? (\r\n\t\t\t\t\t<div className=\"height-100 overlay-loading\">\r\n\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t<img src=\"/assets/img/loading-food.gif\" alt={localStorage.getItem(\"pleaseWaitText\")} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t<BackWithSearch\r\n\t\t\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\t\t\thas_title={true}\r\n\t\t\t\t\t\t\ttitle={localStorage.getItem(\"cartPageTitle\")}\r\n\t\t\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t{cartProducts.length ? (\r\n\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<RestaurantInfoCart restaurant={restaurant_info} />\r\n\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full bg-white pt-10 pb-5\">\r\n\t\t\t\t\t\t\t\t\t\t<h2 className=\"item-text mb-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartItemsInCartText\")}\r\n\t\t\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t\t\t{cartProducts.map((item, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t<CartItems\r\n\t\t\t\t\t\t\t\t\t\t\t\titem={item}\r\n\t\t\t\t\t\t\t\t\t\t\t\taddProductQuantity={this.addProductQuantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\tremoveProductQuantity={this.removeProductQuantity}\r\n\t\t\t\t\t\t\t\t\t\t\t\tremoveProduct={this.removeProduct}\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={item.name + item.id + index}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<OrderComment />\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Coupon />\r\n\t\t\t\t\t\t\t\t\t{this.state.alreadyRunningOrders && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"auth-error ongoing-order-notify\">\r\n\t\t\t\t\t\t\t\t\t\t\t<DelayLink to=\"/my-orders\" delay={250} className=\"ml-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"ongoingOrderMsg\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"si si-arrow-right ml-1\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontSize: \"0.7rem\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<BillDetails total={cartTotal.totalPrice} distance={this.state.distance} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\r\n\t\t\t\t\t\t\t\t{this.state.is_operational_loading ? (\r\n\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/spinner.svg\"\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"location-loading-spinner\"\r\n\t\t\t\t\t\t\t\t\t\talt=\"loading\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: \"-1rem\" }}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t{this.state.is_active ? (\r\n\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{this.state.min_order_satisfied ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.is_all_items_available && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CartCheckoutBlock\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\trestaurant_id={this.props.restaurant_info.id}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcart_page={this.context.router.route.location.pathname}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis_operational_loading={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.state.is_operational_loading\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tis_operational={this.state.is_operational}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleProcessCartLoading={this.handleProcessCartLoading}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcheckForItemsAvailability={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.checkForItemsAvailability\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\thandleItemsAvailability={this.handleItemsAvailability}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"auth-error no-click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"error-shake\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"restaurantMinOrderMessage\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.restaurant_info.min_order_price}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"auth-error no-click\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"error-shake\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.restaurant_info && this.props.restaurant_info.name} :{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"notAcceptingOrdersMsg\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t<div className=\"bg-white cart-empty-block\">\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tclassName=\"cart-empty-img\"\r\n\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/cart-empty.png\"\r\n\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"cartEmptyText\")}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<h2 className=\"cart-empty-text mt-50 text-center\">\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartEmptyText\")}\r\n\t\t\t\t\t\t\t\t</h2>\r\n\t\t\t\t\t\t\t\t{this.state.alreadyRunningOrders && (\r\n\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\tclassName=\"auth-error ongoing-order-notify\"\r\n\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\tposition: \"fixed\",\r\n\t\t\t\t\t\t\t\t\t\t\tbottom: \"4.5rem\",\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<DelayLink to=\"/my-orders\" delay={250} className=\"ml-2\">\r\n\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"ongoingOrderMsg\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t<i className=\"si si-arrow-right ml-1\" style={{ fontSize: \"0.7rem\" }} />\r\n\t\t\t\t\t\t\t\t\t\t\t<Ink duration=\"500\" />\r\n\t\t\t\t\t\t\t\t\t\t</DelayLink>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Footer active_cart={true} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t)}\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\trestaurant_info: state.items.restaurant_info,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tuser: state.user.user,\r\n\trunning_order: state.user.running_order,\r\n\trestaurant: state.restaurant,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{\r\n\t\tcheckUserRunningOrder,\r\n\t\tupdateCart,\r\n\t\tgetRestaurantInfoById,\r\n\t\tupdateUserInfo,\r\n\t\taddProduct,\r\n\t\tcheckCartItemsAvailability,\r\n\t}\r\n)(Cart);\r\n"],"sourceRoot":""}