{"version":3,"sources":["components/Mobile/Elements/BackWithSearch.js","services/user/actions.js","components/helpers/formatPrice.js","services/total/actions.js","services/confirmCart/actions.js","services/checkout/actions.js","components/helpers/calculateDistance.js","components/Mobile/Checkout/PaymentList/index.js","services/paymentgateways/actions.js","components/Mobile/Checkout/index.js"],"names":["BackWithSearch","_this","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","className","style","zIndex","concat","props","boxshadow","disable_back_button","back_to_home","type","position","onClick","context","router","history","push","react_ink__WEBPACK_IMPORTED_MODULE_6___default","duration","goto_orders_page","goto_accounts_page","goBack","logo","src","alt","localStorage","getItem","width","has_title","title","has_delivery_icon","react_reveal_LightSpeed__WEBPACK_IMPORTED_MODULE_7___default","left","has_restaurant_info","ref","node","heading","restaurant","name","delivery_time","disable_search","Component","contextTypes","__webpack_require__","d","__webpack_exports__","loginUser","registerUser","logoutUser","updateUserInfo","checkUserRunningOrder","sendOtp","verifyOtp","getWalletTransactions","sendPasswordResetMail","verifyPasswordResetOtp","changeUserPassword","_actionTypes__WEBPACK_IMPORTED_MODULE_0__","_configs__WEBPACK_IMPORTED_MODULE_1__","axios__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_2___default","n","email","password","accessToken","phone","provider","address","dispatch","Axios","post","LOGIN_USER_URL","then","response","user","data","LOGIN_USER","payload","catch","error","console","log","REGISTER_USER_URL","REGISTER_USER","removeItem","LOGOUT_USER","RUNNING_ORDER","GET_WALLET_TRANSACTIONS","user_id","token","unique_order_id","UPDATE_USER_INFO_URL","UPDATE_USER_INFO","CHECK_USER_RUNNING_ORDER_URL","running_order","SEND_OTP_URL","SEND_OTP","otp","VERIFY_OTP_URL","VERIFY_OTP","GET_WALLET_TRANSACTIONS_URL","wallet","SEND_PASSWORD_RESET_EMAIL_URL","SEND_PASSWORD_RESET_EMAIL","code","VERIFY_PASSWORD_RESET_OTP_URL","VERIFY_PASSWORD_RESET_OTP","CHANGE_USER_PASSWORD_URL","CHANGE_USER_PASSWORD","formatPrice","price","formatedPrice","parseFloat","toFixed","updateCart","_components_helpers_formatPrice__WEBPACK_IMPORTED_MODULE_1__","cartProducts","cartTotal","productQuantity","reduce","sum","p","totalPrice","addonTotal","selectedaddons","map","addonArray","quantity","UPDATE_CART","checkConfirmCart","checkCartItemsAvailability","CONFIRM_CART","items","CHECK_CART_ITEMS_AVAILABILITY_URL","placeOrder","_coupon_actionTypes__WEBPACK_IMPORTED_MODULE_2__","axios__WEBPACK_IMPORTED_MODULE_3__","axios__WEBPACK_IMPORTED_MODULE_3___default","_total_actions__WEBPACK_IMPORTED_MODULE_4__","order","coupon","location","order_comment","total","method","payment_token","delivery_type","partial_wallet","getState","PLACE_ORDER_URL","auth_token","checkout","success","PLACE_ORDER","cart","products","i","length","splice","APPLY_COUPON","calculateDistance","lon1","lat1","lon2","lat2","toRad","x","Math","PI","dLat","dLon","sin","cos","atan2","sqrt","PaymentList","state","loading","stripe_opened","delivery_charges","razorpay_opened","razorpay_success","canPayPartialWithWallet","walletChecked","canPayFullWithWallet","distance","__doesRestaurantOperatesAtThisLocation","restaurant_info","longitude","latitude","default_address","delivery_charge_type","setState","calculateDynamicDeliveryCharge","distanceFromUserToRestaurant","base_delivery_distance","extraCharge","extra_delivery_distance","extra_delivery_charge","dynamicDeliveryCharge","base_delivery_charge","ceil","onOpened","onToken","__placeOrder","onSuccess","payment","onCancel","onError","err","callback","status","reference","close","getReference","text","possible","charAt","floor","random","paymentgatewaysblock","document","getElementsByClassName","classList","add","_this$props","JSON","parse","progressBar","getElementById","remove","progress","foo","setInterval","clearInterval","getTotalAfterCalculation","_this$props2","calc","discount_type","discount","restaurant_charges","wallet_balance","__handleRazorPay","self","Object","assertThisInitialized","totalAmount","options","key","amount","currency","handler","paymentId","razorpay_payment_id","url","RAZORPAY_PAYMENT_URL","fetch","headers","Content-type","resp","json","modal","ondismiss","window","Razorpay","open","getPaymentGateways","id","nextProps","paymentgateways","_this2","client","sandbox","production","react_default","some","gateway","Helmet","react_content_loader_es","height","innerWidth","speed","primaryColor","secondaryColor","y","rx","ry","borderColor","color","defaultChecked","fontWeight","main_default","stripeKey","ComponentClass","image","origin","toString","locale","opened","paystack_min_default","class","disabled","embed","parseInt","paystackkey","tag","react_paypal_express_checkout_default","env","shipping","size","shape","role","backgroundColor","connect","addresses","GET_PAYMENT_GATEWAYS_URL","GET_PAYMENT_GATEWAYS","Checkout","getElementsByTagName","Redirect","to","confirmCart","meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","href","twittertitle","twitterdescription","Checkout_PaymentList"],"mappings":"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","file":"static/js/16.e43c906d.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport LightSpeed from \"react-reveal/LightSpeed\";\r\n\r\nclass BackWithSearch extends Component {\r\n    static contextTypes = {\r\n        router: () => null\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"col-12 p-0 fixed\" style={{ zIndex: \"9\" }}>\r\n                    <div className=\"block m-0\">\r\n                        <div className=\"block-content p-0\">\r\n                            <div className={`input-group ${this.props.boxshadow && \"search-box\"}`}>\r\n                                {!this.props.disable_back_button && (\r\n                                    <div className=\"input-group-prepend\">\r\n                                        {this.props.back_to_home && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n\r\n                                        {this.props.goto_orders_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-orders\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-account\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {!this.props.back_to_home && !this.props.goto_orders_page && !this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={this.context.router.history.goBack}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"form-control search-input\">\r\n                                    {this.props.logo && <img src=\"/assets/img/logos/logo.png\" alt={localStorage.getItem(\"storeName\")} width=\"120\" />}\r\n                                    {this.props.has_title ? <span className=\"nav-page-title\">{this.props.title}</span> : null}\r\n                                    {this.props.has_delivery_icon && (\r\n                                        <LightSpeed left>\r\n                                            <img src=\"/assets/img/various/delivery-bike.png\" alt={this.props.title} className=\"nav-page-title\" />\r\n                                        </LightSpeed>\r\n                                    )}\r\n                                </p>\r\n                                {this.props.has_restaurant_info ? (\r\n                                    <div\r\n                                        className=\"fixed-restaurant-info hidden\"\r\n                                        ref={node => {\r\n                                            this.heading = node;\r\n                                        }}\r\n                                    >\r\n                                        <span className=\"font-w700 fixedRestaurantName\">{this.props.restaurant.name}</span>\r\n                                        <br />\r\n                                        <span className=\"font-w400 fixedRestaurantTime\">\r\n                                            <i className=\"si si-clock\" /> {this.props.restaurant.delivery_time}{\" \"}\r\n                                            {localStorage.getItem(\"homePageMinsText\")}\r\n                                        </span>\r\n                                    </div>\r\n                                ) : null}\r\n                                <div className=\"input-group-append\">\r\n                                    {!this.props.disable_search && (\r\n                                        <button type=\"submit\" className=\"btn search-navs-btns\" style={{ position: \"relative\" }}>\r\n                                            <i className=\"si si-magnifier\" />\r\n                                            <Ink duration=\"500\" />\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BackWithSearch;\r\n","import {\r\n\tLOGIN_USER,\r\n\tREGISTER_USER,\r\n\tLOGOUT_USER,\r\n\tUPDATE_USER_INFO,\r\n\tSEND_OTP,\r\n\tVERIFY_OTP,\r\n\tRUNNING_ORDER,\r\n\tGET_WALLET_TRANSACTIONS,\r\n\tSEND_PASSWORD_RESET_EMAIL,\r\n\tVERIFY_PASSWORD_RESET_OTP,\r\n\tCHANGE_USER_PASSWORD,\r\n} from \"./actionTypes\";\r\nimport {\r\n\tLOGIN_USER_URL,\r\n\tREGISTER_USER_URL,\r\n\tUPDATE_USER_INFO_URL,\r\n\tSEND_OTP_URL,\r\n\tVERIFY_OTP_URL,\r\n\tCHECK_USER_RUNNING_ORDER_URL,\r\n\tGET_WALLET_TRANSACTIONS_URL,\r\n\tSEND_PASSWORD_RESET_EMAIL_URL,\r\n\tVERIFY_PASSWORD_RESET_OTP_URL,\r\n\tCHANGE_USER_PASSWORD_URL,\r\n} from \"../../configs\";\r\n\r\nimport Axios from \"axios\";\r\n\r\nexport const loginUser = (name, email, password, accessToken, phone, provider, address) => (dispatch) => {\r\n\tAxios.post(LOGIN_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tpassword: password,\r\n\t\taccessToken: accessToken,\r\n\t\tphone: phone,\r\n\t\tprovider: provider,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: LOGIN_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const registerUser = (name, email, phone, password, address) => (dispatch) => {\r\n\tAxios.post(REGISTER_USER_URL, {\r\n\t\tname: name,\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\tpassword: password,\r\n\t\taddress: address,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: REGISTER_USER, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const logoutUser = (user) => (dispatch) => {\r\n\tuser = [];\r\n\tconst walletEmpty = [];\r\n\r\n\t//remove geoLocation and userSetAddress\r\n\tlocalStorage.removeItem(\"userSetAddress\");\r\n\tlocalStorage.removeItem(\"geoLocation\");\r\n\tlocalStorage.removeItem(\"lastSavedNotificationToken\");\r\n\r\n\tdispatch({\r\n\t\ttype: LOGOUT_USER,\r\n\t\tpayload: user,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: RUNNING_ORDER,\r\n\t\tpayload: false,\r\n\t});\r\n\tdispatch({\r\n\t\ttype: GET_WALLET_TRANSACTIONS,\r\n\t\tpayload: walletEmpty,\r\n\t});\r\n};\r\n\r\nexport const updateUserInfo = (user_id, token, unique_order_id) => (dispatch) => {\r\n\treturn Axios.post(UPDATE_USER_INFO_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t\tunique_order_id: unique_order_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: UPDATE_USER_INFO, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const checkUserRunningOrder = (user_id, token) => (dispatch) => {\r\n\tAxios.post(CHECK_USER_RUNNING_ORDER_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst running_order = response.data;\r\n\t\t\treturn dispatch({ type: RUNNING_ORDER, payload: running_order });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendOtp = (email, phone, accessToken, provider) => (dispatch) => {\r\n\treturn Axios.post(SEND_OTP_URL, {\r\n\t\temail: email,\r\n\t\tphone: phone,\r\n\t\taccessToken: accessToken,\r\n\t\tprovider: provider,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: SEND_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyOtp = (phone, otp) => (dispatch) => {\r\n\tAxios.post(VERIFY_OTP_URL, {\r\n\t\tphone: phone,\r\n\t\totp: otp,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst user = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_OTP, payload: user });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const getWalletTransactions = (token, user_id) => (dispatch) => {\r\n\tAxios.post(GET_WALLET_TRANSACTIONS_URL, {\r\n\t\ttoken: token,\r\n\t\tuser_id: user_id,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst wallet = response.data;\r\n\t\t\treturn dispatch({ type: GET_WALLET_TRANSACTIONS, payload: wallet });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const sendPasswordResetMail = (email) => (dispatch) => {\r\n\tAxios.post(SEND_PASSWORD_RESET_EMAIL_URL, {\r\n\t\temail: email,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: SEND_PASSWORD_RESET_EMAIL, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const verifyPasswordResetOtp = (email, code) => (dispatch) => {\r\n\tAxios.post(VERIFY_PASSWORD_RESET_OTP_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: VERIFY_PASSWORD_RESET_OTP, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n\r\nexport const changeUserPassword = (email, code, password) => (dispatch) => {\r\n\tAxios.post(CHANGE_USER_PASSWORD_URL, {\r\n\t\temail: email,\r\n\t\tcode: code,\r\n\t\tpassword: password,\r\n\t})\r\n\t\t.then((response) => {\r\n\t\t\tconst data = response.data;\r\n\t\t\treturn dispatch({ type: CHANGE_USER_PASSWORD, payload: data });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","export const formatPrice = price => {\r\n    if (price) {\r\n        let formatedPrice = parseFloat(price);\r\n        formatedPrice = formatedPrice.toFixed(2);\r\n        return formatedPrice;\r\n    }\r\n    return 0;\r\n};\r\n","import { UPDATE_CART } from \"./actionTypes\";\r\nimport { formatPrice } from \"../../components/helpers/formatPrice\";\r\n\r\nexport const updateCart = cartProducts => dispatch => {\r\n\tlet productQuantity = cartProducts.reduce((sum, p) => {\r\n\t\t// sum += p.quantity;\r\n\t\tsum++;\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet totalPrice = cartProducts.reduce((sum, p) => {\r\n\t\tlet addonTotal = 0;\r\n\t\tif (p.selectedaddons) {\r\n\t\t\tp.selectedaddons.map(addonArray => {\r\n\t\t\t\taddonTotal += parseFloat(addonArray.price);\r\n\t\t\t\treturn addonTotal;\r\n\t\t\t});\r\n\t\t}\r\n\t\tsum += p.price * p.quantity + addonTotal * p.quantity;\r\n\t\tsum = parseFloat(sum);\r\n\t\tformatPrice(sum);\r\n\t\treturn sum;\r\n\t}, 0);\r\n\r\n\tlet cartTotal = {\r\n\t\tproductQuantity,\r\n\t\ttotalPrice\r\n\t};\r\n\r\n\tdispatch({\r\n\t\ttype: UPDATE_CART,\r\n\t\tpayload: cartTotal\r\n\t});\r\n};\r\n","import { CONFIRM_CART } from \"./actionTypes\";\r\nimport { CHECK_CART_ITEMS_AVAILABILITY_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const checkConfirmCart = () => dispatch => {\r\n\tconst confirmCart = true;\r\n\treturn dispatch({ type: CONFIRM_CART, payload: confirmCart });\r\n};\r\n\r\nexport const checkCartItemsAvailability = items => dispatch => {\r\n\treturn Axios.post(CHECK_CART_ITEMS_AVAILABILITY_URL, {\r\n\t\titems: items\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst data = response.data;\r\n\t\t\t// console.log(data);\r\n\t\t\treturn data;\r\n\t\t\t// return dispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","import { PLACE_ORDER } from \"./actionTypes\";\r\nimport { PLACE_ORDER_URL } from \"../../configs\";\r\nimport { APPLY_COUPON } from \"../coupon/actionTypes\";\r\n\r\nimport Axios from \"axios\";\r\nimport { updateCart } from \"../total/actions\";\r\n\r\nexport const placeOrder = (\r\n\tuser,\r\n\torder,\r\n\tcoupon,\r\n\tlocation,\r\n\torder_comment,\r\n\ttotal,\r\n\tmethod,\r\n\tpayment_token,\r\n\tdelivery_type,\r\n\tpartial_wallet\r\n) => (dispatch, getState) => {\r\n\tAxios.post(PLACE_ORDER_URL, {\r\n\t\ttoken: user.data.auth_token,\r\n\t\tuser: user,\r\n\t\torder: order,\r\n\t\tcoupon: coupon,\r\n\t\tlocation: location,\r\n\t\torder_comment: order_comment,\r\n\t\ttotal: total,\r\n\t\tmethod: method,\r\n\t\tpayment_token: payment_token,\r\n\t\tdelivery_type: delivery_type,\r\n\t\tpartial_wallet: partial_wallet\r\n\t})\r\n\t\t.then(response => {\r\n\t\t\tconst checkout = response.data;\r\n\r\n\t\t\tif (checkout.success) {\r\n\t\t\t\tdispatch({ type: PLACE_ORDER, payload: checkout });\r\n\r\n\t\t\t\tconst state = getState();\r\n\t\t\t\t// console.log(state);\r\n\t\t\t\tconst cartProducts = state.cart.products;\r\n\t\t\t\t// const user = state.user.user;\r\n\t\t\t\tlocalStorage.removeItem(\"orderComment\");\r\n\r\n\t\t\t\tfor (let i = cartProducts.length - 1; i >= 0; i--) {\r\n\t\t\t\t\t// remove all items from cart\r\n\t\t\t\t\tcartProducts.splice(i, 1);\r\n\t\t\t\t}\r\n\r\n\t\t\t\tdispatch(updateCart(cartProducts));\r\n\r\n\t\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t\tconst coupon = [];\r\n\t\t\t\tdispatch({ type: APPLY_COUPON, payload: coupon });\r\n\t\t\t}\r\n\t\t})\r\n\t\t.catch(function(error) {\r\n\t\t\tconsole.log(error);\r\n\t\t});\r\n};\r\n","export const calculateDistance = (lon1, lat1, lon2, lat2) => {\r\n    function toRad(x) {\r\n        return (x * Math.PI) / 180;\r\n    }\r\n\r\n    let R = 6371; // km\r\n\r\n    let x1 = lat2 - lat1;\r\n    let dLat = toRad(x1);\r\n    let x2 = lon2 - lon1;\r\n    let dLon = toRad(x2);\r\n    let a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(toRad(lat1)) * Math.cos(toRad(lat2)) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\r\n    let c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\r\n    let distance = R * c;\r\n    return distance;\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport ContentLoader from \"react-content-loader\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport PaypalExpressBtn from \"react-paypal-express-checkout\";\r\nimport PaystackButton from \"react-paystack\";\r\nimport { RAZORPAY_PAYMENT_URL } from \"../../../../configs\";\r\nimport StripeCheckout from \"react-stripe-checkout\";\r\nimport { connect } from \"react-redux\";\r\nimport { formatPrice } from \"../../../helpers/formatPrice\";\r\nimport { getPaymentGateways } from \"../../../../services/paymentgateways/actions\";\r\nimport { placeOrder } from \"../../../../services/checkout/actions\";\r\nimport { updateUserInfo } from \"../../../../services/user/actions\";\r\nimport { calculateDistance } from \"../../../helpers/calculateDistance\";\r\n\r\nclass PaymentList extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\tstate = {\r\n\t\tloading: true,\r\n\t\tstripe_opened: false,\r\n\t\tdelivery_charges: 0.0,\r\n\t\terror: false,\r\n\t\trazorpay_opened: false,\r\n\t\trazorpay_success: false,\r\n\t\tcanPayPartialWithWallet: false,\r\n\t\twalletChecked: false,\r\n\t\tcanPayFullWithWallet: false,\r\n\t\tdistance: 0,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tthis.props.getPaymentGateways(this.props.user.data.auth_token);\r\n\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.updateUserInfo(user.data.id, user.data.auth_token, null);\r\n\t\t}\r\n\r\n\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\tthis.setState({ delivery_charges: 0.0 });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: this.props.restaurant_info.delivery_charges });\r\n\t\t}\r\n\t}\r\n\r\n\tcomponentWillReceiveProps(nextProps) {\r\n\t\tif (nextProps.restaurant_info.id) {\r\n\t\t\tthis.__doesRestaurantOperatesAtThisLocation(nextProps.restaurant_info);\r\n\t\t}\r\n\r\n\t\tconst { paymentgateways } = this.props;\r\n\t\tif (paymentgateways !== nextProps.paymentgateways) {\r\n\t\t\tthis.setState({ loading: false });\r\n\t\t}\r\n\t\tif (nextProps.checkout !== this.props.checkout) {\r\n\t\t\t//remove coupon\r\n\t\t\tlocalStorage.removeItem(\"appliedCoupon\");\r\n\t\t\t//redirect to running order page\r\n\t\t\tthis.context.router.history.push(\"/running-order/\" + nextProps.checkout.data.unique_order_id);\r\n\t\t}\r\n\r\n\t\t// console.log(\"Wallet Balance: \", nextProps.user.data.wallet_balance);\r\n\t\t// console.log(\"Cart Amount: \", parseFloat(this.getTotalAfterCalculation()));\r\n\r\n\t\t//if  > 0 then user can pay with wallet (Amount will be deducted)\r\n\t\tif (nextProps.user.data.wallet_balance > 0) {\r\n\t\t\t// console.log(\"Can pay partial with wallet\");\r\n\t\t\tthis.setState({ canPayPartialWithWallet: true, canPayFullWithWallet: false });\r\n\t\t}\r\n\r\n\t\tif (nextProps.user.data.wallet_balance >= parseFloat(this.getTotalAfterCalculation())) {\r\n\t\t\t// console.log(\"Can pay full with wallet\");\r\n\t\t\tthis.setState({ canPayFullWithWallet: true, canPayPartialWithWallet: false });\r\n\t\t}\r\n\t}\r\n\r\n\t__doesRestaurantOperatesAtThisLocation = (restaurant_info) => {\r\n\t\t//send user lat long to helper, check with the current restaurant lat long and setstate accordingly\r\n\t\tconst { user } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tconst distance = calculateDistance(\r\n\t\t\t\trestaurant_info.longitude,\r\n\t\t\t\trestaurant_info.latitude,\r\n\t\t\t\tuser.data.default_address.longitude,\r\n\t\t\t\tuser.data.default_address.latitude\r\n\t\t\t);\r\n\r\n\t\t\tif (localStorage.getItem(\"userSelected\") === \"DELIVERY\") {\r\n\t\t\t\tif (this.props.restaurant_info.delivery_charge_type === \"DYNAMIC\") {\r\n\t\t\t\t\tthis.setState({ distance: distance }, () => {\r\n\t\t\t\t\t\t//check if restaurant has dynamic delivery charge..\r\n\t\t\t\t\t\tthis.calculateDynamicDeliveryCharge();\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\tcalculateDynamicDeliveryCharge = () => {\r\n\t\tconst { restaurant_info } = this.props;\r\n\r\n\t\tconst distanceFromUserToRestaurant = this.state.distance;\r\n\t\t// console.log(\"Distance from user to restaurant: \" + distanceFromUserToRestaurant + \" km\");\r\n\r\n\t\tif (distanceFromUserToRestaurant > restaurant_info.base_delivery_distance) {\r\n\t\t\tconst extraDistance = distanceFromUserToRestaurant - restaurant_info.base_delivery_distance;\r\n\t\t\t// console.log(\"Extra Distance: \" + extraDistance + \" km\");\r\n\r\n\t\t\tconst extraCharge =\r\n\t\t\t\t(extraDistance / restaurant_info.extra_delivery_distance) * restaurant_info.extra_delivery_charge;\r\n\t\t\t// console.log(\"Extra Charge: \" + extraCharge);\r\n\r\n\t\t\tlet dynamicDeliveryCharge = parseFloat(restaurant_info.base_delivery_charge) + parseFloat(extraCharge);\r\n\t\t\tif (localStorage.getItem(\"enDelChrRnd\") === \"true\") {\r\n\t\t\t\tdynamicDeliveryCharge = Math.ceil(dynamicDeliveryCharge);\r\n\t\t\t}\r\n\r\n\t\t\t// console.log(\"Total Charge: \" + dynamicDeliveryCharge);\r\n\t\t\tthis.setState({ delivery_charges: dynamicDeliveryCharge });\r\n\t\t} else {\r\n\t\t\tthis.setState({ delivery_charges: restaurant_info.base_delivery_charge });\r\n\t\t}\r\n\t};\r\n\r\n\t/* Stripe */\r\n\tonOpened = () => {\r\n\t\tthis.setState({ stripe_opened: true });\r\n\t};\r\n\tonToken = (payment_token) => {\r\n\t\tconst method = \"STRIPE\";\r\n\t\tthis.__placeOrder(payment_token, method);\r\n\t};\r\n\t/* END Stripe */\r\n\r\n\t/* Paypal */\r\n\tonSuccess = (payment) => {\r\n\t\tconst payment_token = \"\";\r\n\t\tconst method = \"PAYPAL\";\r\n\t\tthis.__placeOrder(payment_token, method);\r\n\t};\r\n\r\n\tonCancel = (data) => {\r\n\t\tconsole.log(\"Paypal Payment Canceled\");\r\n\t};\r\n\r\n\tonError = (err) => {\r\n\t\tconsole.log(\"Error!\");\r\n\t};\r\n\t/* END Paypal */\r\n\r\n\t/* PayStack */\r\n\tcallback = (response) => {\r\n\t\tif (response.status === \"success\") {\r\n\t\t\tconst payment_token = response.reference;\r\n\t\t\tconst method = \"PAYSTACK\";\r\n\t\t\tthis.__placeOrder(payment_token, method);\r\n\t\t} else {\r\n\t\t\tconsole.log(response);\r\n\t\t}\r\n\t};\r\n\r\n\tclose = () => {\r\n\t\tconsole.log(\"PayStack Payment Closed\");\r\n\t};\r\n\r\n\tgetReference = () => {\r\n\t\t//you can put any unique reference implementation code here\r\n\t\tlet text = \"\";\r\n\t\tlet possible = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-.=\";\r\n\r\n\t\tfor (let i = 0; i < 15; i++) text += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\r\n\t\treturn text;\r\n\t};\r\n\t/* END PayStack */\r\n\r\n\t__placeOrder = (payment_token, method) => {\r\n\t\t// disable all button Onclick with pointer events\r\n\t\tlet paymentgatewaysblock = document.getElementsByClassName(\"paymentGatewayBlock\");\r\n\t\tfor (let i = 0; i < paymentgatewaysblock.length; i++) {\r\n\t\t\tpaymentgatewaysblock[i].classList.add(\"no-click\");\r\n\t\t}\r\n\r\n\t\tconst { user, cartProducts, coupon, cartTotal } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tif (localStorage.getItem(\"userSelected\") === \"SELFPICKUP\") {\r\n\t\t\t\tthis.props.placeOrder(\r\n\t\t\t\t\tuser,\r\n\t\t\t\t\tcartProducts,\r\n\t\t\t\t\tcoupon,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")),\r\n\t\t\t\t\tlocalStorage.getItem(\"orderComment\"),\r\n\t\t\t\t\tcartTotal,\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tpayment_token,\r\n\t\t\t\t\t2,\r\n\t\t\t\t\tthis.state.walletChecked\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tthis.props.placeOrder(\r\n\t\t\t\t\tuser,\r\n\t\t\t\t\tcartProducts,\r\n\t\t\t\t\tcoupon,\r\n\t\t\t\t\tJSON.parse(localStorage.getItem(\"userSetAddress\")),\r\n\t\t\t\t\tlocalStorage.getItem(\"orderComment\"),\r\n\t\t\t\t\tcartTotal,\r\n\t\t\t\t\tmethod,\r\n\t\t\t\t\tpayment_token,\r\n\t\t\t\t\t1,\r\n\t\t\t\t\tthis.state.walletChecked\r\n\t\t\t\t);\r\n\t\t\t}\r\n\r\n\t\t\t//show progress bar\r\n\t\t\tconst progressBar = document.getElementById(\"progressBar\");\r\n\t\t\tprogressBar.classList.remove(\"hidden\");\r\n\t\t\tlet progress = 0;\r\n\t\t\tvar foo = setInterval(function() {\r\n\t\t\t\tif (progress > 100) {\r\n\t\t\t\t\tclearInterval(foo);\r\n\t\t\t\t}\r\n\t\t\t\tprogress = progress + 1;\r\n\t\t\t\tprogressBar.style.width = progress + \"%\";\r\n\t\t\t}, 20);\r\n\r\n\t\t\tthis.setState({ stripe_opened: false });\r\n\t\t}\r\n\t};\r\n\r\n\t// Calculating total with/without coupon/tax\r\n\tgetTotalAfterCalculation = () => {\r\n\t\tconst { coupon, restaurant_info, user } = this.props;\r\n\t\tconst total = this.props.cartTotal.totalPrice;\r\n\t\tlet calc = 0;\r\n\t\tif (coupon.code) {\r\n\t\t\tif (coupon.discount_type === \"PERCENTAGE\") {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tformatPrice(\r\n\t\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t\tformatPrice((coupon.discount / 100) * parseFloat(total)) +\r\n\t\t\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t\t\t)\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tcalc = formatPrice(\r\n\t\t\t\t\tparseFloat(total) -\r\n\t\t\t\t\t\t(parseFloat(coupon.discount) || 0.0) +\r\n\t\t\t\t\t\t((parseFloat(restaurant_info.restaurant_charges) || 0.0) +\r\n\t\t\t\t\t\t\t(parseFloat(this.state.delivery_charges) || 0.0))\r\n\t\t\t\t);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(total) +\r\n\t\t\t\t\tparseFloat(restaurant_info.restaurant_charges || 0.0) +\r\n\t\t\t\t\tparseFloat(this.state.delivery_charges || 0.0)\r\n\t\t\t);\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"taxApplicable\") === \"true\") {\r\n\t\t\tcalc = formatPrice(\r\n\t\t\t\tparseFloat(\r\n\t\t\t\t\tparseFloat(calc) + parseFloat(parseFloat(localStorage.getItem(\"taxPercentage\")) / 100) * calc\r\n\t\t\t\t)\r\n\t\t\t);\r\n\t\t\tif (this.state.walletChecked && user.data.wallet_balance < calc) {\r\n\t\t\t\tcalc = calc - user.data.wallet_balance;\r\n\t\t\t}\r\n\t\t\treturn calc;\r\n\t\t} else {\r\n\t\t\tif (this.state.walletChecked && user.data.wallet_balance < calc) {\r\n\t\t\t\tcalc = calc - user.data.wallet_balance;\r\n\t\t\t}\r\n\t\t\treturn calc;\r\n\t\t}\r\n\t};\r\n\r\n\t/* Razorpay */\r\n\t__handleRazorPay = () => {\r\n\t\tlet self = this;\r\n\t\tthis.setState({ razorpay_opened: true });\r\n\t\tconst totalAmount = formatPrice(parseFloat(this.getTotalAfterCalculation() * 100));\r\n\t\tconst options = {\r\n\t\t\tkey: localStorage.getItem(\"razorpayKeyId\"),\r\n\t\t\tamount: totalAmount,\r\n\t\t\tname: this.props.user.data.name,\r\n\t\t\tcurrency: localStorage.getItem(\"currencyId\"),\r\n\t\t\thandler(response) {\r\n\t\t\t\tconst paymentId = response.razorpay_payment_id;\r\n\t\t\t\tconst url = RAZORPAY_PAYMENT_URL + paymentId + \"/\" + totalAmount;\r\n\t\t\t\t// Using server endpoints to capture the payment\r\n\t\t\t\tfetch(url, {\r\n\t\t\t\t\tmethod: \"get\",\r\n\t\t\t\t\theaders: {\r\n\t\t\t\t\t\t\"Content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\",\r\n\t\t\t\t\t},\r\n\t\t\t\t})\r\n\t\t\t\t\t.then((resp) => resp.json())\r\n\t\t\t\t\t.then(function(data) {\r\n\t\t\t\t\t\tself.setState({ razorpay_opened: false, razorpay_success: true });\r\n\t\t\t\t\t\tconst payment_token = \"\";\r\n\t\t\t\t\t\tconst method = \"RAZORPAY\";\r\n\t\t\t\t\t\tself.__placeOrder(payment_token, method);\r\n\t\t\t\t\t})\r\n\t\t\t\t\t.catch(function(error) {\r\n\t\t\t\t\t\tself.setState({ razorpay_opened: false, razorpay_success: false });\r\n\t\t\t\t\t});\r\n\t\t\t},\r\n\t\t\tmodal: {\r\n\t\t\t\tondismiss: function() {\r\n\t\t\t\t\tconsole.log(\"closed\");\r\n\t\t\t\t\tself.setState({ razorpay_opened: false, razorpay_success: false });\r\n\t\t\t\t},\r\n\t\t\t},\r\n\t\t};\r\n\t\tconst rzp1 = new window.Razorpay(options);\r\n\r\n\t\trzp1.open();\r\n\t};\r\n\t/* END Razorpay */\r\n\r\n\trender() {\r\n\t\tconst client = {\r\n\t\t\tsandbox: localStorage.getItem(\"paypalSandboxKey\"),\r\n\t\t\tproduction: localStorage.getItem(\"paypalProductionKey\"),\r\n\t\t};\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t{this.props.paymentgateways.some((gateway) => gateway.name === \"Razorpay\") && (\r\n\t\t\t\t\t<Helmet>\r\n\t\t\t\t\t\t<script src=\"https://checkout.razorpay.com/v1/checkout.js\" />\r\n\t\t\t\t\t</Helmet>\r\n\t\t\t\t)}\r\n\t\t\t\t{this.state.stripe_opened ||\r\n\t\t\t\t\t(this.state.razorpay_opened && (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<div className=\"height-80 overlay-loading ongoing-payment-spin\">\r\n\t\t\t\t\t\t\t\t<div className=\"spin-load\" />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"auth-error ongoing-payment\">\r\n\t\t\t\t\t\t\t\t<div className=\"error-shake\">{localStorage.getItem(\"checkoutPaymentInProcess\")}</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t))}\r\n\t\t\t\t<div className=\"col-12 mb-50\">\r\n\t\t\t\t\t{this.state.loading ? (\r\n\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\t\t\t\t\t\twidth={window.innerWidth}\r\n\t\t\t\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"10\" rx=\"0\" ry=\"0\" width=\"55\" height=\"55\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"320\" y=\"10\" rx=\"0\" ry=\"0\" width=\"85\" height=\"20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"250\" y=\"40\" rx=\"0\" ry=\"0\" width=\"190\" height=\"18\" />\r\n\t\t\t\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"col-12\">\r\n\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t<ContentLoader\r\n\t\t\t\t\t\t\t\t\t\t\theight={70}\r\n\t\t\t\t\t\t\t\t\t\t\twidth={window.innerWidth}\r\n\t\t\t\t\t\t\t\t\t\t\tspeed={1.2}\r\n\t\t\t\t\t\t\t\t\t\t\tprimaryColor=\"#f3f3f3\"\r\n\t\t\t\t\t\t\t\t\t\t\tsecondaryColor=\"#ecebeb\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"0\" y=\"10\" rx=\"0\" ry=\"0\" width=\"55\" height=\"55\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"320\" y=\"10\" rx=\"0\" ry=\"0\" width=\"85\" height=\"20\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<rect x=\"250\" y=\"40\" rx=\"0\" ry=\"0\" width=\"190\" height=\"18\" />\r\n\t\t\t\t\t\t\t\t\t\t</ContentLoader>\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<div className=\"text-center\">\r\n\t\t\t\t\t\t\t\t<h3\r\n\t\t\t\t\t\t\t\t\tclassName=\"btn btn-lg btn-outline-secondary btn-square d-block bg-white\"\r\n\t\t\t\t\t\t\t\t\tstyle={{ borderColor: \"#eee\" }}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"cartToPayText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t<span style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t{formatPrice(parseFloat(this.getTotalAfterCalculation()))}\r\n\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t</h3>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t\t\t\t{this.state.canPayPartialWithWallet && (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12\"\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.setState({ walletChecked: !this.state.walletChecked })}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/wallet.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<input\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\ttype=\"checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"walletcheckbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tdefaultChecked={this.props.walletChecked}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"wallet-checkbox\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.walletChecked && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"si si-check mr-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tfontWeight: \"900\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletName\")}:{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.state.walletChecked ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willbeDeductedText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"left\" && localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") ===\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"right\" && localStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"payPartialWithWalletText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"btn btn-redeem mt-2\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: localStorage.getItem(\"cartColorBg\"),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tborderColor: localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"cartColorBg\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletRedeemBtnText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t<hr className=\"mb-4\" />\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t<div className=\"col-12 text-center mb-0 mt-4\">\r\n\t\t\t\t\t\t\t\t\t<h4 className=\"text-muted\">{localStorage.getItem(\"checkoutPaymentListTitle\")}</h4>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t{this.state.canPayFullWithWallet && (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-12\" onClick={() => this.__placeOrder(\"\", \"WALLET\")}>\r\n\t\t\t\t\t\t\t\t\t\t\t<p className=\"mb-1\" />\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/wallet.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"payFullWithWalletText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<span style={{ color: localStorage.getItem(\"storeColor\") }}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{parseFloat(this.getTotalAfterCalculation())}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</span>{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"willbeDeductedText\")}{\" \"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"left\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{this.props.user.data.wallet_balance}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"currencySymbolAlign\") === \"right\" &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlocalStorage.getItem(\"currencyFormat\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t<hr />\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t{this.props.paymentgateways.map((gateway) => (\r\n\t\t\t\t\t\t\t\t\t<React.Fragment key={gateway.id}>\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Stripe\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<StripeCheckout\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstripeKey={localStorage.getItem(\"stripePublicKey\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tComponentClass=\"div\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\timage={`${window.location.origin.toString()}/assets/img/logos/${localStorage.getItem(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\"storeLogo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t)}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlocale=\"auto\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname={localStorage.getItem(\"storeName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail={this.props.user.data.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttoken={this.onToken}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\topened={this.onOpened}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 p-0\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/stripe.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutStripeSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</StripeCheckout>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"COD\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__placeOrder(\"\", \"COD\")}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/cod.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutCodText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutCodSubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Razorpay\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"col-12 paymentGatewayBlock\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => this.__handleRazorPay()}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block block-link-shadow text-left shadow-light\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-3 payment-select-block\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"float-right mt-10\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsrc=\"/assets/img/various/razorpay.png\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\talt={gateway.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"img-fluid\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-h3 font-w600\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutRazorpayText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm font-w600 text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"checkoutRazorpaySubText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"PayStack\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 mb-4 mt-4 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PaystackButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttext={localStorage.getItem(\"paystackPayText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclass=\"payButton\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcallback={this.callback}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclose={this.close}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tembed={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treference={this.getReference()}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\temail={this.props.user.data.email}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tamount={parseInt(parseFloat(this.getTotalAfterCalculation() * 100))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tpaystackkey={localStorage.getItem(\"paystackPublicKey\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttag=\"button\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{gateway.name === \"Paypal\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"col-12 paymentGatewayBlock\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t<PaypalExpressBtn\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tenv={localStorage.getItem(\"paypalEnv\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclient={client}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcurrency={localStorage.getItem(\"currencyId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttotal={parseFloat(this.getTotalAfterCalculation())}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tshipping={1}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonError={this.onError}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonSuccess={this.onSuccess}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonCancel={this.onCancel}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize: \"responsive\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor: \"silver\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tshape: \"rect\",\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className=\"progress push m-0 progress-transparent\" style={{ height: \"8px\" }}>\r\n\t\t\t\t\t<div\r\n\t\t\t\t\t\tclassName=\"progress-bar progress-bar-striped progress-bar-animated hidden\"\r\n\t\t\t\t\t\trole=\"progressbar\"\r\n\t\t\t\t\t\tid=\"progressBar\"\r\n\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\tbackgroundColor: localStorage.getItem(\"storeColor\"),\r\n\t\t\t\t\t\t\twidth: \"10%\",\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\taddresses: state.addresses.addresses,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tcheckout: state.checkout.checkout,\r\n\tpaymentgateways: state.paymentgateways.paymentgateways,\r\n\trestaurant_info: state.items.restaurant_info,\r\n});\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getPaymentGateways, placeOrder, updateUserInfo }\r\n)(PaymentList);\r\n","import { GET_PAYMENT_GATEWAYS } from \"./actionTypes\";\r\nimport { GET_PAYMENT_GATEWAYS_URL } from \"../../configs\";\r\nimport Axios from \"axios\";\r\n\r\nexport const getPaymentGateways = token => dispatch => {\r\n    Axios.post(GET_PAYMENT_GATEWAYS_URL, {\r\n        token: token\r\n    })\r\n        .then(response => {\r\n            const paymentgateways = response.data;\r\n            return dispatch({ type: GET_PAYMENT_GATEWAYS, payload: paymentgateways });\r\n        })\r\n        .catch(function(error) {\r\n            console.log(error);\r\n        });\r\n};\r\n","import React, { Component } from \"react\";\r\n\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport PaymentList from \"./PaymentList\";\r\nimport { Redirect } from \"react-router\";\r\nimport { checkConfirmCart } from \"../../../services/confirmCart/actions\";\r\nimport { connect } from \"react-redux\";\r\nimport { placeOrder } from \"../../../services/checkout/actions\";\r\n\r\n// import Ink from \"react-ink\";\r\n\r\n// import DelayLink from \"../../helpers/delayLink\";\r\n\r\nclass Checkout extends Component {\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.cartProducts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\t}\r\n\r\n\t__placeOrder = () => {\r\n\t\tconst { user, cartProducts, coupon, cartTotal } = this.props;\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.placeOrder(user, cartProducts, coupon, localStorage.getItem(\"currentLocation\"), cartTotal);\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (!this.props.cartProducts.length) {\r\n\t\t\t// no items in cart after checkout goto cart page\r\n\t\t\treturn <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\t//TODO:\r\n\t\t//check if the referrer is cart page, if not then redirect to cart\r\n\t\tif (!this.props.confirmCart) {\r\n\t\t\treturn <Redirect to={\"/cart\"} />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"checkoutPageTitle\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"checkoutPageTitle\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"pt-50\">\r\n\t\t\t\t\t<div className=\"pt-30\"></div>\r\n\t\t\t\t\t<PaymentList />\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = state => ({\r\n\ttotal: state.total.total,\r\n\tuser: state.user.user,\r\n\tcartProducts: state.cart.products,\r\n\tcartTotal: state.total.data,\r\n\tcoupon: state.coupon.coupon,\r\n\tconfirmCart: state.confirmCart.confirmCart\r\n});\r\nexport default connect(mapStateToProps, { checkConfirmCart, placeOrder })(Checkout);\r\n"],"sourceRoot":""}