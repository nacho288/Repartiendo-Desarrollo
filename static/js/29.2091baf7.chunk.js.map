{"version":3,"sources":["components/Mobile/Elements/BackWithSearch.js","components/Mobile/Alerts/AlertList/index.js","components/Mobile/Alerts/index.js"],"names":["BackWithSearch","_this","this","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","Fragment","className","style","zIndex","concat","props","boxshadow","disable_back_button","back_to_home","type","position","onClick","context","router","history","push","react_ink__WEBPACK_IMPORTED_MODULE_6___default","duration","goto_orders_page","goto_accounts_page","goBack","logo","src","alt","localStorage","getItem","width","has_title","title","has_delivery_icon","react_reveal_LightSpeed__WEBPACK_IMPORTED_MODULE_7___default","left","has_restaurant_info","ref","node","heading","restaurant","name","delivery_time","disable_search","Component","contextTypes","AlertList","_this$props","alert","handleNotificationClick","data","JSON","parse","react_default","is_read","boxShadow","opacity","pointerEvents","borderRadius","custom_image","filter","fontSize","dist_default","fromNow","created_at","format","is_wallet_alert","transaction_type","message","color","ink_default","hasTouch","Alerts","handleMarkAllRead","user","success","markAllNotificationsRead","id","auth_token","console","log","markOneNotificationRead","then","response","unique_order_id","custom_notification","click_action","window","location","href","alerts","length","document","getElementsByTagName","classList","add","getUserNotifications","remove","_this2","innerWidth","Redirect","to","meta","seotitle","seodescription","ogtype","ogtitle","ogdescription","ogurl","twittertitle","twitterdescription","map","key","Alerts_AlertList","Footer","active_alerts","connect","state"],"mappings":"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","file":"static/js/29.2091baf7.chunk.js","sourcesContent":["import React, { Component } from \"react\";\r\n\r\nimport Ink from \"react-ink\";\r\nimport LightSpeed from \"react-reveal/LightSpeed\";\r\n\r\nclass BackWithSearch extends Component {\r\n    static contextTypes = {\r\n        router: () => null\r\n    };\r\n\r\n    render() {\r\n        return (\r\n            <React.Fragment>\r\n                <div className=\"col-12 p-0 fixed\" style={{ zIndex: \"9\" }}>\r\n                    <div className=\"block m-0\">\r\n                        <div className=\"block-content p-0\">\r\n                            <div className={`input-group ${this.props.boxshadow && \"search-box\"}`}>\r\n                                {!this.props.disable_back_button && (\r\n                                    <div className=\"input-group-prepend\">\r\n                                        {this.props.back_to_home && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n\r\n                                        {this.props.goto_orders_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-orders\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={() => this.context.router.history.push(\"/my-account\")}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                        {!this.props.back_to_home && !this.props.goto_orders_page && !this.props.goto_accounts_page && (\r\n                                            <button\r\n                                                type=\"button\"\r\n                                                className=\"btn search-navs-btns\"\r\n                                                style={{ position: \"relative\" }}\r\n                                                onClick={this.context.router.history.goBack}\r\n                                            >\r\n                                                <i className=\"si si-arrow-left\" />\r\n                                                <Ink duration=\"500\" />\r\n                                            </button>\r\n                                        )}\r\n                                    </div>\r\n                                )}\r\n                                <p className=\"form-control search-input\">\r\n                                    {this.props.logo && <img src=\"/assets/img/logos/logo.png\" alt={localStorage.getItem(\"storeName\")} width=\"120\" />}\r\n                                    {this.props.has_title ? <span className=\"nav-page-title\">{this.props.title}</span> : null}\r\n                                    {this.props.has_delivery_icon && (\r\n                                        <LightSpeed left>\r\n                                            <img src=\"/assets/img/various/delivery-bike.png\" alt={this.props.title} className=\"nav-page-title\" />\r\n                                        </LightSpeed>\r\n                                    )}\r\n                                </p>\r\n                                {this.props.has_restaurant_info ? (\r\n                                    <div\r\n                                        className=\"fixed-restaurant-info hidden\"\r\n                                        ref={node => {\r\n                                            this.heading = node;\r\n                                        }}\r\n                                    >\r\n                                        <span className=\"font-w700 fixedRestaurantName\">{this.props.restaurant.name}</span>\r\n                                        <br />\r\n                                        <span className=\"font-w400 fixedRestaurantTime\">\r\n                                            <i className=\"si si-clock\" /> {this.props.restaurant.delivery_time}{\" \"}\r\n                                            {localStorage.getItem(\"homePageMinsText\")}\r\n                                        </span>\r\n                                    </div>\r\n                                ) : null}\r\n                                <div className=\"input-group-append\">\r\n                                    {!this.props.disable_search && (\r\n                                        <button type=\"submit\" className=\"btn search-navs-btns\" style={{ position: \"relative\" }}>\r\n                                            <i className=\"si si-magnifier\" />\r\n                                            <Ink duration=\"500\" />\r\n                                        </button>\r\n                                    )}\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </div>\r\n                </div>\r\n            </React.Fragment>\r\n        );\r\n    }\r\n}\r\n\r\nexport default BackWithSearch;\r\n","import React, { Component } from \"react\";\r\nimport Moment from \"react-moment\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass AlertList extends Component {\r\n\trender() {\r\n\t\tconst { alert, handleNotificationClick } = this.props;\r\n\t\tconst data = JSON.parse(alert.data);\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<div className=\"row\">\r\n\t\t\t\t\t<div className=\"col-md-12\">\r\n\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\tclassName={`block block-link-shadow mb-3 ${alert.is_read && \"bg-grey\"}`}\r\n\t\t\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\t\t\tboxShadow: !alert.is_read ? \"rgba(225, 225, 225, 0.34) 0px 1px 4px 1px\" : \"0\",\r\n\t\t\t\t\t\t\t\topacity: !alert.is_read ? \"1\" : \"0.8\",\r\n\t\t\t\t\t\t\t\tpointerEvents: !alert.is_read ? \"auto\" : \"none\",\r\n\t\t\t\t\t\t\t\tborderRadius: \"3px\",\r\n\t\t\t\t\t\t\t\tposition: \"relative\"\r\n\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\tonClick={() => handleNotificationClick(alert)}\r\n\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t{data.custom_image && (\r\n\t\t\t\t\t\t\t\t<img\r\n\t\t\t\t\t\t\t\t\tsrc={data.custom_image}\r\n\t\t\t\t\t\t\t\t\tclassName=\"img-fluid mb-2\"\r\n\t\t\t\t\t\t\t\t\talt={data.title}\r\n\t\t\t\t\t\t\t\t\tstyle={{ filter: alert.is_read ? \"grayscale(0.9)\" : \"none\" }}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t<div className=\"block-content block-content-full clearfix py-2\">\r\n\t\t\t\t\t\t\t\t<span className=\"text-muted pull-right\" style={{ fontSize: \"0.9rem\" }}>\r\n\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"showFromNowDate\") === \"true\" ? (\r\n\t\t\t\t\t\t\t\t\t\t<Moment fromNow>{alert.created_at}</Moment>\r\n\t\t\t\t\t\t\t\t\t) : (\r\n\t\t\t\t\t\t\t\t\t\t<Moment format=\"DD/MM/YYYY hh:mma\">{alert.created_at}</Moment>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</span>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<div className={`font-w600 font-size-h4 mb-5 ${alert.is_read && \"text-muted\"}`}>\r\n\t\t\t\t\t\t\t\t\t\t{data.title}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t<div className=\"font-size-sm text-muted\">\r\n\t\t\t\t\t\t\t\t\t\t{data.is_wallet_alert && data.transaction_type === \"deposit\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<strong className=\"text-success mr-2 font-size-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletDepositText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{data.is_wallet_alert && data.transaction_type === \"withdraw\" && (\r\n\t\t\t\t\t\t\t\t\t\t\t<strong className=\"text-danger mr-2 font-size-sm\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{localStorage.getItem(\"walletWithdrawText\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</strong>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t{data.message}{\" \"}\r\n\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t{!alert.is_read && (\r\n\t\t\t\t\t\t\t\t\t\t<div className=\"alert-notify-bell\">\r\n\t\t\t\t\t\t\t\t\t\t\t<i\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName=\"si si-bell\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ color: localStorage.getItem(\"storeColor\") }}\r\n\t\t\t\t\t\t\t\t\t\t\t></i>\r\n\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<Ink duration={500} hasTouch={false} />\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nexport default AlertList;\r\n","import React, { Component } from \"react\";\r\nimport { Redirect } from \"react-router\";\r\nimport { connect } from \"react-redux\";\r\nimport Meta from \"../../helpers/meta\";\r\nimport BackWithSearch from \"../../Mobile/Elements/BackWithSearch\";\r\nimport Footer from \"../Footer\";\r\nimport AlertList from \"./AlertList\";\r\nimport {\r\n\tgetUserNotifications,\r\n\tmarkAllNotificationsRead,\r\n\tmarkOneNotificationRead,\r\n} from \"../../../services/alert/actions\";\r\nimport Ink from \"react-ink\";\r\n\r\nclass Alerts extends Component {\r\n\tstatic contextTypes = {\r\n\t\trouter: () => null,\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\tif (this.props.alerts.length) {\r\n\t\t\tdocument.getElementsByTagName(\"body\")[0].classList.add(\"bg-grey-light\");\r\n\t\t}\r\n\r\n\t\tconst { user } = this.props;\r\n\t\tif (localStorage.getItem(\"storeColor\") !== null) {\r\n\t\t\tif (user.success) {\r\n\t\t\t\tthis.props.getUserNotifications(user.data.id, user.data.auth_token);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\thandleMarkAllRead = () => {\r\n\t\tconst { user } = this.props;\r\n\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markAllNotificationsRead(user.data.id, user.data.auth_token);\r\n\t\t}\r\n\t};\r\n\r\n\thandleNotificationClick = (alert) => {\r\n\t\tconst { user } = this.props;\r\n\t\tconsole.log(\"Notification Clicked\");\r\n\t\tif (user.success) {\r\n\t\t\tthis.props.markOneNotificationRead(user.data.id, alert.id, user.data.auth_token).then((response) => {\r\n\t\t\t\tconst data = JSON.parse(alert.data);\r\n\t\t\t\tconst unique_order_id = data.unique_order_id;\r\n\t\t\t\tconst custom_notification = data.custom_notification;\r\n\t\t\t\tconst click_action = data.click_action;\r\n\t\t\t\tconst is_wallet_alert = data.is_wallet_alert;\r\n\r\n\t\t\t\tif (unique_order_id) {\r\n\t\t\t\t\tconsole.log(\"Order tracking notification\");\r\n\t\t\t\t\tthis.context.router.history.push(`/running-order/${unique_order_id}`);\r\n\t\t\t\t}\r\n\t\t\t\tif (custom_notification && click_action) {\r\n\t\t\t\t\tconsole.log(\"Custom Notification\");\r\n\t\t\t\t\twindow.location.href = click_action;\r\n\t\t\t\t}\r\n\t\t\t\tif (is_wallet_alert) {\r\n\t\t\t\t\tthis.context.router.history.push(\"/my-wallet\");\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t}\r\n\t};\r\n\r\n\tcomponentWillUnmount() {\r\n\t\tdocument.getElementsByTagName(\"body\")[0].classList.remove(\"bg-grey-light\");\r\n\t}\r\n\r\n\trender() {\r\n\t\tif (window.innerWidth > 768) {\r\n\t\t\treturn <Redirect to=\"/\" />;\r\n\t\t}\r\n\t\tif (localStorage.getItem(\"storeColor\") === null) {\r\n\t\t\treturn <Redirect to={\"/\"} />;\r\n\t\t}\r\n\t\tconst { user, alerts } = this.props;\r\n\r\n\t\tif (!user.success) {\r\n\t\t\treturn (\r\n\t\t\t\t//redirect to login page if not loggedin\r\n\t\t\t\t<Redirect to={\"/login\"} />\r\n\t\t\t);\r\n\t\t}\r\n\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Meta\r\n\t\t\t\t\tseotitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tseodescription={localStorage.getItem(\"seoMetaDescription\")}\r\n\t\t\t\t\togtype=\"website\"\r\n\t\t\t\t\togtitle={localStorage.getItem(\"seoOgTitle\")}\r\n\t\t\t\t\togdescription={localStorage.getItem(\"seoOgDescription\")}\r\n\t\t\t\t\togurl={window.location.href}\r\n\t\t\t\t\ttwittertitle={localStorage.getItem(\"seoTwitterTitle\")}\r\n\t\t\t\t\ttwitterdescription={localStorage.getItem(\"seoTwitterDescription\")}\r\n\t\t\t\t/>\r\n\r\n\t\t\t\t<BackWithSearch\r\n\t\t\t\t\tboxshadow={true}\r\n\t\t\t\t\thas_title={true}\r\n\t\t\t\t\ttitle={localStorage.getItem(\"footerAlerts\")}\r\n\t\t\t\t\tdisable_search={true}\r\n\t\t\t\t/>\r\n\t\t\t\t<div className=\"block-content block-content-full mb-100\">\r\n\t\t\t\t\t{alerts.length ? (\r\n\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t<button\r\n\t\t\t\t\t\t\t\tclassName=\"btn btn-sm btn-clear-alerts float-right mt-50 mb-3\"\r\n\t\t\t\t\t\t\t\tstyle={{ position: \"relative\" }}\r\n\t\t\t\t\t\t\t\tonClick={this.handleMarkAllRead}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{localStorage.getItem(\"markAllAlertReadText\")} <i className=\"si si-check ml-1\" />\r\n\t\t\t\t\t\t\t\t<Ink duration={500} hasTouch={true} />\r\n\t\t\t\t\t\t\t</button>\r\n\t\t\t\t\t\t\t<div className=\"clearfix\" />\r\n\t\t\t\t\t\t\t{alerts.map((alert) => (\r\n\t\t\t\t\t\t\t\t<React.Fragment key={alert.id}>\r\n\t\t\t\t\t\t\t\t\t<AlertList alert={alert} handleNotificationClick={this.handleNotificationClick} />\r\n\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t) : (\r\n\t\t\t\t\t\t<div className=\"text-center mt-50 font-w600 text-muted pt-100\">\r\n\t\t\t\t\t\t\t<div className=\"pb-10\">\r\n\t\t\t\t\t\t\t\t<i className=\"si si-bell\" style={{ fontSize: \"10rem\", color: \"#eee\" }} />\r\n\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t<p style={{ color: \"#ccc\" }}>{localStorage.getItem(\"noNewAlertsText\")}</p>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</div>\r\n\t\t\t\t<Footer active_alerts={true} />\r\n\t\t\t</React.Fragment>\r\n\t\t);\r\n\t}\r\n}\r\n\r\nconst mapStateToProps = (state) => ({\r\n\tuser: state.user.user,\r\n\talerts: state.alert.alerts,\r\n});\r\n\r\nexport default connect(\r\n\tmapStateToProps,\r\n\t{ getUserNotifications, markAllNotificationsRead, markOneNotificationRead }\r\n)(Alerts);\r\n"],"sourceRoot":""}